var q=Object.defineProperty,B=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var O=(i,n,a)=>n in i?q(i,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[n]=a,x=(i,n)=>{for(var a in n||(n={}))z.call(n,a)&&O(i,a,n[a]);if(A)for(var a of A(n))K.call(n,a)&&O(i,a,n[a]);return i},P=(i,n)=>B(i,F(n));import{a as f}from"./_@vue_runtime-dom@3.2.31@@vue.240af360.js";import{u as E}from"./_vuex@4.0.2@vuex.35900dea.js";import{v as C,h as G,o as J}from"./index.67bdbe62.js";import{_ as b}from"./plugin-vue_export-helper.21dcd24c.js";import{r as h,a as N,u as c,k as Q}from"./_@vue_reactivity@3.2.31@@vue.435b5d06.js";import{e as j,w as S,z as y,A as D,E as t,r as g,y as L,m as U,F as w,K as M,L as k,s as V,l as W,C as X,H as Y}from"./_@vue_runtime-core@3.2.31@@vue.b0aa5f29.js";import{I as T}from"./_@vue_shared@3.2.31@@vue.7f2d3904.js";import"./_@vue_devtools-api@6.1.3@@vue.3188b863.js";import"./_vant@3.4.6@vant.e4fff504.js";import"./_@vant_use@1.3.6@@vant.1b0ef691.js";import"./_@vant_popperjs@1.1.0@@vant.ae31ad00.js";import"./_vue-mobile-calendar@3.3.0@vue-mobile-calendar.c9c3461a.js";import"./_axios@0.21.4@axios.56d8ec29.js";import"./_vue-router@4.0.14@vue-router.c27d2a8d.js";import"./_qs@6.10.3@qs.59603e06.js";import"./_side-channel@1.0.4@side-channel.0a841574.js";import"./_get-intrinsic@1.1.1@get-intrinsic.46bb42c1.js";import"./_has-symbols@1.0.3@has-symbols.7f361f9b.js";import"./_function-bind@1.1.1@function-bind.09a6b7a3.js";import"./_has@1.0.3@has.dc0c57e0.js";import"./_call-bind@1.0.2@call-bind.c10bfa07.js";import"./_object-inspect@1.12.0@object-inspect.b4aaeeae.js";import"./_lodash@4.17.21@lodash.2e4506b9.js";import"./_dayjs@1.11.0@dayjs.c3a0a36c.js";import"./_echarts@5.2.2@echarts.518f2fa5.js";import"./_tslib@2.3.0@tslib.54efd67f.js";import"./_zrender@5.2.1@zrender.d1d234d3.js";const Z={class:"inputList"},tt={class:"inputCont flex-ro justify-side align-start relative",style:{border:"none"}},et={class:"input-text",style:{"padding-left":"0"}},ot=["maxlength"],st={class:"nums absolute"},nt={emits:["outDataEvent"],setup(i,{emit:n}){const a=h(500),_=h(0),p=h(""),o=E();j(()=>{v(p.value)}),S(p,m=>{_.value=m.length,v(m)});const v=m=>{let u={isErr:!1};m.trim()||(u=Object.assign({},u,{errmsg:"\u8BF7\u8F93\u5165\u6279\u793A\u5185\u5BB9",isErr:!0})),C.specialCharPattern(m)&&(u=Object.assign({},u,{errmsg:'\u8BF7\u52FF\u8F93\u5165"&\u3001<\u3001>"\u7B49\u7279\u6B8A\u5B57\u7B26',isErr:!0})),n("outDataEvent",{formdata:{id:o.getters.controllId,instructionsContent:m.trim()},errInfor:u})};return(m,u)=>(y(),D("div",Z,[t("div",tt,[t("div",et,[g(t("textarea",{style:{height:"300px",border:"none","padding-left":"0"},"onUpdate:modelValue":u[0]||(u[0]=l=>p.value=l),maxlength:a.value,placeholder:"\u8BF7\u8F93\u5165\u6279\u793A\u5185\u5BB9\u2026"},null,8,ot),[[f,p.value]])]),t("div",st,T(_.value+"/"+a.value),1)])]))}};var it=b(nt,[["__scopeId","data-v-4f84adcd"]]);const I=i=>(M("data-v-72888ed8"),i=i(),k(),i),at={class:"inputList"},lt={class:"inputCont flex-ro justify-side border"},rt={class:"input-text",style:{"padding-left":"0"}},dt={class:"inputCont flex-ro justify-side align-start relative",style:{border:"none"}},ct={class:"input-text",style:{"padding-left":"0"}},pt={class:"nums absolute"},mt={class:"inputList"},ut={class:"inputCont flex-ro justify-side border"},_t=I(()=>t("div",{class:"input-title flex-ro",style:{width:"80px"}}," \u4F01\u4E1A\u540D\u79F0\uFF1A ",-1)),vt={class:"input-text"},ht={class:"inputCont flex-ro justify-side"},ft=I(()=>t("div",{class:"input-title flex-ro",style:{width:"80px"}},[t("text",{class:"sp"},"*"),V(" \u8054\u7CFB\u4EBA\uFF1A ")],-1)),gt={class:"input-text"},xt={class:"inputCont flex-ro justify-side"},yt=I(()=>t("div",{class:"input-title flex-ro",style:{width:"80px"}},[t("text",{class:"sp"},"*"),V(" \u624B\u673A\u53F7\u7801\uFF1A ")],-1)),Ct={class:"input-text"},Et={class:"inputList"},bt=I(()=>t("div",{class:"inputCont flex-ro justify-side"},[t("div",{class:"input-title flex-ro"}," \u9644\u4EF6\uFF08\u6700\u591A\u4E0A\u4F203\u5F20\uFF09 ")],-1)),Dt={emits:["outDataEvent"],setup(i,{emit:n}){const a=E(),_=h(500),p=h(0),o=N({entId:G("get","chooseCompanyId"),entContact:"",entMobileNum:"",entName:"",mailAttachments:"",mailContent:"",mailTitle:""});j(()=>{J().then(e=>{e.code==200&&(e==null?void 0:e.data)&&(o.entContact=e.data.contact,o.entMobileNum=e.data.mobileNum)}),l(o)}),S(o,e=>{p.value=e.mailContent.length,l(e)});const v=e=>{console.log(e);const s=e.map(r=>r.attachId);o.mailAttachments=s.join(","),a.commit("SET_HASUPLOAD",!0),console.log(o)},m=e=>{a.commit("SET_HASUPLOAD",e)},u=()=>{const{mailTitle:e,mailContent:s,entContact:r,entMobileNum:d}=o;let R={mailTitle:e.trim(),mailContent:s.trim(),entContact:r.trim(),entMobileNum:d.trim()},H=[{name:"mailTitle",type:"required",errmsg:"\u8BF7\u8F93\u5165\u4FE1\u4EF6\u6807\u9898"},{name:"mailContent",type:"required",errmsg:"\u8BF7\u8F93\u5165\u4FE1\u4EF6\u5185\u5BB9"},{name:"entContact",type:"required",errmsg:"\u8BF7\u8F93\u5165\u8054\u7CFB\u4EBA"},{name:"entMobileNum",type:"required",errmsg:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801"},{name:"entMobileNum",type:"phone",errmsg:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7\u7801"}],$=C.validate(R,H,!1);return $.isOk?{isErr:!1}:{errmsg:$.errmsg,isErr:!0}},l=e=>{let s=x({},e),r=u();for(let d in s)s[d]=s[d].trim(),C.specialCharPattern(s[d])&&(r=Object.assign({},r,{errmsg:'\u8BF7\u52FF\u8F93\u5165"&\u3001<\u3001>"\u7B49\u7279\u6B8A\u5B57\u7B26',isErr:!0}));n("outDataEvent",{formdata:x({},s),errInfor:r})};return(e,s)=>{const r=L("upload-pics");return y(),D(w,null,[t("div",at,[t("div",lt,[t("div",rt,[g(t("input",{type:"text",maxlength:"100","onUpdate:modelValue":s[0]||(s[0]=d=>c(o).mailTitle=d),placeholder:"\u4FE1\u4EF6\u6807\u9898\u2026"},null,512),[[f,c(o).mailTitle]])])]),t("div",dt,[t("div",ct,[g(t("textarea",{style:{height:"150px",border:"none","padding-left":"0"},maxlength:"500","onUpdate:modelValue":s[1]||(s[1]=d=>c(o).mailContent=d),"placeholder-style":"color:#D0D0D0;font-size:14px;",placeholder:"\u4FE1\u4EF6\u5185\u5BB9\u2026"},null,512),[[f,c(o).mailContent]])]),t("div",pt,T(p.value+"/"+_.value),1)])]),t("div",mt,[t("div",ut,[_t,t("div",vt,[g(t("input",{type:"text",maxlength:"100","onUpdate:modelValue":s[2]||(s[2]=d=>c(o).entName=d),placeholder:"\u8BF7\u8F93\u5165\u4F01\u4E1A\u540D\u79F0"},null,512),[[f,c(o).entName]])])]),t("div",ht,[ft,t("div",gt,[g(t("input",{type:"text",maxlength:"100","onUpdate:modelValue":s[3]||(s[3]=d=>c(o).entContact=d),placeholder:"\u8BF7\u8F93\u5165\u8054\u7CFB\u4EBA\u59D3\u540D"},null,512),[[f,c(o).entContact]])])]),t("div",xt,[yt,t("div",Ct,[g(t("input",{type:"tel",maxlength:"11","onUpdate:modelValue":s[4]||(s[4]=d=>c(o).entMobileNum=d),placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801"},null,512),[[f,c(o).entMobileNum]])])])]),t("div",Et,[bt,U(r,{onReceivePic:v,onUploadDone:m,type:"headEmail"})])],64)}}};var It=b(Dt,[["__scopeId","data-v-72888ed8"]]);const Nt=i=>(M("data-v-68793725"),i=i(),k(),i),jt={class:"inputList"},St={class:"inputCont flex-ro justify-side align-start relative",style:{border:"none"}},Tt={class:"input-text",style:{"padding-left":"0"}},$t=["maxlength"],At={class:"nums absolute"},Ot={class:"inputList"},Pt=Nt(()=>t("div",{class:"inputCont flex-ro justify-side"},[t("div",{class:"input-title flex-ro"}," \u9644\u4EF6\uFF08\u6700\u591A\u4E0A\u4F203\u5F20\uFF09 ")],-1)),Lt={emits:["outDataEvent"],setup(i,{emit:n}){const a=h(500),_=h(0);h("");const p=E(),o=N({replyAttachments:"",replyContent:""});j(()=>{u(o)}),S(o,l=>{_.value=l.replyContent.length,u(l)});const v=l=>{console.log(l);const e=l.map(s=>s.attachId);o.replyAttachments=e.join(","),p.commit("SET_HASUPLOAD",!0),console.log(o)},m=l=>{p.commit("SET_HASUPLOAD",l)},u=l=>{let e=x({},l),s={isErr:!1};e.replyContent.trim()||(s=Object.assign({},s,{errmsg:"\u8BF7\u8F93\u5165\u56DE\u590D\u5185\u5BB9",isErr:!0}));for(let r in e)e[r]=e[r].trim(),C.specialCharPattern(e[r])&&(s=Object.assign({},s,{errmsg:'\u8BF7\u52FF\u8F93\u5165"&\u3001<\u3001>"\u7B49\u7279\u6B8A\u5B57\u7B26',isErr:!0}));n("outDataEvent",{formdata:P(x({},e),{id:p.getters.controllId}),errInfor:s})};return(l,e)=>{const s=L("upload-pics");return y(),D(w,null,[t("div",jt,[t("div",St,[t("div",Tt,[g(t("textarea",{style:{height:"300px",border:"none","padding-left":"0"},"onUpdate:modelValue":e[0]||(e[0]=r=>c(o).replyContent=r),maxlength:a.value,placeholder:"\u8BF7\u8F93\u5165\u56DE\u590D\u5185\u5BB9\u2026"},null,8,$t),[[f,c(o).replyContent]])]),t("div",At,T(_.value+"/"+a.value),1)])]),t("div",Ot,[Pt,U(s,{onReceivePic:v,onUploadDone:m,type:"headEmail"})])],64)}}};var Ut=b(Lt,[["__scopeId","data-v-68793725"]]);const wt={class:"edit"},Mt=W({name:"edit"}),kt=Object.assign(Mt,{setup(i){const n=E(),a=n.getters.controllType;N({});const _=Q({headMail:it,entMail:It,instructions:Ut}),p=o=>{const{formdata:v,errInfor:m}=o;console.log(o),n.commit("SET_INFOR",v),n.commit("SET_ERRINFOR",m)};return(o,v)=>(y(),D("div",wt,[(y(),X(Y(c(_)[c(a)]),{onOutDataEvent:p}))]))}});var ue=b(kt,[["__scopeId","data-v-6b548662"]]);export{ue as default};
