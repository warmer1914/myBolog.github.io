import{a as A}from"./_@vue_runtime-dom@3.2.31@@vue.240af360.js";import{U as l}from"./index.67bdbe62.js";import x from"./apply-three.f8232b92.js";import{_ as D}from"./plugin-vue_export-helper.21dcd24c.js";import{q as B,I as C}from"./_@vue_shared@3.2.31@@vue.7f2d3904.js";import{l as E,y as d,z as p,A as n,E as i,r as S,m as v,G as g,F as k,J as T,C as y,K as N,L as P,s as r,D as b}from"./_@vue_runtime-core@3.2.31@@vue.b0aa5f29.js";import{r as w}from"./_@vue_reactivity@3.2.31@@vue.435b5d06.js";import"./_vant@3.4.6@vant.e4fff504.js";import"./_@vant_use@1.3.6@@vant.1b0ef691.js";import"./_@vant_popperjs@1.1.0@@vant.ae31ad00.js";import"./_vue-mobile-calendar@3.3.0@vue-mobile-calendar.c9c3461a.js";import"./_axios@0.21.4@axios.56d8ec29.js";import"./_vuex@4.0.2@vuex.35900dea.js";import"./_@vue_devtools-api@6.1.3@@vue.3188b863.js";import"./_vue-router@4.0.14@vue-router.c27d2a8d.js";import"./_qs@6.10.3@qs.59603e06.js";import"./_side-channel@1.0.4@side-channel.0a841574.js";import"./_get-intrinsic@1.1.1@get-intrinsic.46bb42c1.js";import"./_has-symbols@1.0.3@has-symbols.7f361f9b.js";import"./_function-bind@1.1.1@function-bind.09a6b7a3.js";import"./_has@1.0.3@has.dc0c57e0.js";import"./_call-bind@1.0.2@call-bind.c10bfa07.js";import"./_object-inspect@1.12.0@object-inspect.b4aaeeae.js";import"./_lodash@4.17.21@lodash.2e4506b9.js";import"./_dayjs@1.11.0@dayjs.c3a0a36c.js";import"./_echarts@5.2.2@echarts.518f2fa5.js";import"./_tslib@2.3.0@tslib.54efd67f.js";import"./_zrender@5.2.1@zrender.d1d234d3.js";import"./icon_succes@3x.3217ae01.js";var G="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAbCAYAAABr/T8RAAADk0lEQVRIS7XWXWxTZRgH8P9zznvaUoioMYYoIeK8mIljrZ0fwxF2gSYqXjj8ABMhWUwwUQJR3CbeNBHWKWqIqMnClV7oxVx0iTdCgtkt0Wy7wDhlUTfmMubYR3E9PV3fvzmntGz1tLK1611P3z6/932e8zznyLaTXG9k7E8JHkAlHwGFkqRgDOR5A9JrGKHBnzpkzi+sNMcZmgnYpwAerMT9z39FkiDPicjpwY5QP0S4dI3EumllZ1LvU+NIVeHrwQQYFdN8c6At0LsUF/f3SFf6GHX2XQDGGuEjYug9Ax0bhvLxPbg+kWoFcRpgeC1gN6aA5zJOePfFuDi57wCiCXuXhv4KxB1rBguyAPYNvh3uKcD1Hy3cLbb0E6ypJmwIoJfcUiLoG0yva0FctHdixGlEgvZ3JJ+sFhxUwDN1JkamiIHLOhdW5LcgQ40Xjsl0Dnbr3Jl6GeAX1YCVAeyNKby6Q+HSlMbhHgdztlfXUWUaT/zYHhouwLFuhhenU2MAbi+HF6eveK1lArsfMNH2uIWr/xBv9DoYvlLI97hhqKcHOgJDBdhrq0TqOMl3SsFu0JZ6E0PjGsOTxLKJACBsAS/GFA42uSclEmczuDhxPc25oP5wXed8rSnqexJb/PCmew18sCeIS1c02vscjM/eoAMmcOARhdbtClNJor0vg18mNbh8d/5wbnym3hOR10iafvgr2xVaGy1MzGsc+drB5VnCRZ+PmjjU7F6nd/2P6eJ8lDmxl+4TToTG4jcg7vGDQxbwUoOCu4HRGeKT/gwimw3sf1jh5wmNzrMZ/HqjpsUh/E9caK1Q+hC1PlWq1iEFtERMHN1lYd4G1gcEYzMabd86GPmbxeldGqYMDICkRLpSPSCeLTe/X3jQxOs7LUwm6bXMX3O+6b152F257SS3yqL9JchHS508oIAdNabXq39e/V+09F29DIjTqLeu7YShXHxTKdztx5siy7WTX/Bo58JzmjwDkVurMNXK17gYiCYW9mnKCYBbK8RXBjfHf1BzgcantPAMyDsrwFcG56GGhBPNIPs5yPsBqFVsYHWwC8W6FrYsahwVYD+BjSvEVw97eDfDnLZjWeGHIB5aAV4ZnIfu+5jBDdfsvRQ5DGp3xLoZKPfCWB04v4G6z3ibMZt+DKKbQDQAqBWRTT4PmurC+Q247+hIYqOTSd+ixNwszNZmiRqIvkuIkIjMWwrHL7y17vd/ATDCmytlEucXAAAAAElFTkSuQmCC";const U=E({setup(e){const t=w(!0),a=w([]);return{picImgs:a,receivePic:u=>{a.value=u,console.log(a.value),t.value=!0,console.log(t.value)},hasUploadDone:t,uploadDone:u=>{t.value=u,console.log(t.value)}}},data(){return{isShowbtn:!0,isComplete:!1,modelText:"\u60A8\u7684\u8BC9\u6C42\u5DF2\u88AB\u63A5\u6536\uFF0C\u76F8\u5173\u90E8\u95E8\u5C06\u572824\u5C0F\u65F6\u5185\u4E0E\u60A8\u7535\u8BDD\u8054\u7CFB\uFF0C\u8BF7\u4FDD\u6301\u7535\u8BDD\u7545\u901A",companyId:this.$handleLocalStorage("get","chooseCompanyId")||"",btnText:"\u67E5\u770B\u8BC9\u6C42",appealVo:{appealTitle:"",appealTypeCode:0,appealContent:""},imgList:[],control:!0,navStyle:{navTitle:"\u4F01\u4E1A\u8BC9\u6C42",color:"#fff",backgroundColor:"#236EED",leftIcon:"arrowthinleft",rightText:"\u4FDD\u5B58"},selectData:[{id:0,name:"\u571F\u5730\u6D77\u6D0B\u89C4\u5212",isChoose:!1},{id:1,name:"\u80FD\u6E90\u73AF\u4FDD",isChoose:!1},{id:2,name:"\u4EBA\u529B\u793E\u4FDD",isChoose:!1},{id:3,name:"\u5E02\u573A\u76D1\u7BA1\u5BA1\u6279",isChoose:!1},{id:4,name:"\u8D22\u52A1\u7A0E\u6536",isChoose:!1},{id:5,name:"\u5B89\u5168\u751F\u4EA7",isChoose:!1},{id:6,name:"\u6559\u80B2\u536B\u751F",isChoose:!1},{id:7,name:"\u9053\u8DEF\u4EA4\u901A",isChoose:!1},{id:8,name:"\u653F\u7B56\u5151\u73B0",isChoose:!1}],linkList:[{name:"\u8054\u7CFB\u4EBA",sp:!0,value:"",key:"linkName",type:"text",max:10},{name:"\u624B\u673A\u53F7\u7801",sp:!0,value:"",key:"linkphone",type:"number",max:11}],columnNum:"3",imgListIds:[],imgListSo:[],appealId:"",isHome:!1,isWebdiv:0}},computed:{},components:{ApplyThree:x},watch:{},methods:{contactInfoCheck(e){switch(console.log(e),e.key){case"linkName":return this.checkContact(e.value);case"linkphone":return this.checkMobile(e.value);case"linktel":return this.checkLinktel(e.value);case"linkEmail":return this.checkEmail(e.value);default:return!1}},checkContact(e){let t=!1,a="";l.trimAllSpace(e)==""&&(t=!0,a="\u8BF7\u8F93\u5165\u8054\u7CFB\u4EBA"),l.trimAllSpace(e)!=""&&!l.checkStr(l.trimAllSpace(e),"cnAndEn")&&(t=!0,a="\u8054\u7CFB\u4EBA\u540D\u79F0\u652F\u6301\u6C49\u5B57\u548C\u5B57\u6BCD"),l.trimAllSpace(e)!=""&&l.trimAllSpace(e).length>10&&(t=!0,a="\u8054\u7CFB\u4EBA\u540D\u79F0\u6700\u591A10\u4E2A\u5B57\u7B26"),t&&this.$toast(a),t=a=null},checkLinktel(e){let t=!1,a="";e&&l.trimAllSpace(e)!=""&&(!l.checkStr(l.trimAllSpace(e),"tel")||l.trimAllSpace(e).length>12)&&(t=!0,a="\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u5EA7\u673A\u53F7\u7801"),t&&this.$toast(a),t=a=null},checkMobile(e){let t=!1,a="";!e&&l.trimAllSpace(e)==""&&(t=!0,a="\u8BF7\u8F93\u5165\u624B\u673A\u53F7"),e&&l.trimAllSpace(e)!=""&&(!l.checkStr(l.trimAllSpace(e),"phone")||l.trimAllSpace(e).length>11)&&(t=!0,a="\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7"),t&&this.$toast(a),t=a=null},checkEmail(e){let t=!1,a="";l.trimAllSpace(e)!=""&&!l.checkStr(l.trimAllSpace(e),"email")&&(t=!0,a="\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u90AE\u7BB1"),l.trimAllSpace(e)!=""&&l.trimAllSpace(e).length>100&&(t=!0,a="\u90AE\u7BB1\u6700\u591A100\u4E2A\u5B57\u7B26"),t&&this.$toast(a),t=a=null},getCompanyAppeal(){let e=!1,t="";l.trimAllSpace(this.appealVo.appealTitle)==""&&(e=!0,t="\u8BF7\u8F93\u5165\u8BC9\u6C42\u6807\u9898"),l.trimAllSpace(this.appealVo.appealTitle)!=""&&!l.checkStr(l.trimAllSpace(this.appealVo.appealTitle),"numAndEnAndCn")&&(e=!0,t="\u6807\u9898\u652F\u6301\u6C49\u5B57\u3001\u5B57\u6BCD\u548C\u6570\u5B57"),l.trimAllSpace(this.appealVo.appealTitle)!=""&&l.trimAllSpace(this.appealVo.appealTitle).length>14&&(e=!0,t="\u6700\u591A14\u4E2A\u5B57\u7B26"),e&&this.$toast(t),e=t=null},checkStrFormat(e){if(e==""||e==null||e==null)return!1;let t=!1;for(let a in e)l.checkStr(e[a],"numAndEnAndCnAndW")||(t=!0);return t},bindTextAreaBlur(){let e=!1,t="";l.trimAllSpace(this.appealVo.appealContent)==""&&(e=!0,t="\u8BF7\u8F93\u5165\u8BC9\u6C42\u5185\u5BB9"),l.trimAllSpace(this.appealVo.appealContent)!=""&&this.checkStrFormat(l.trimAllSpace(this.appealVo.appealContent))&&(e=!0,t="\u4E0D\u80FD\u8F93\u5165\u7279\u6B8A\u5B57\u7B26"),l.trimAllSpace(this.appealVo.appealContent)!=""&&l.trimAllSpace(this.appealVo.appealContent).length>500&&(e=!0,t="\u6700\u591A500\u4E2A\u5B57\u7B26"),e&&this.$toast(t),e=t=null},chooseSlec(e){this.selectData.forEach(t=>{t.isChoose=!1}),this.selectData[e].isChoose=!this.selectData[e].isChoose,this.appealVo.appealTypeCode=e+1},isCheckSub(){let e=!1,t="";return l.trimAllSpace(this.appealVo.appealTitle)==""?(t="\u8BF7\u8F93\u5165\u8BC9\u6C42\u6807\u9898",e=!0,this.showToastSelf(e,t)):l.trimAllSpace(this.appealVo.appealTitle)!=""&&!l.checkStr(l.trimAllSpace(this.appealVo.appealTitle),"numAndEnAndCn")?(e=!0,t="\u6807\u9898\u652F\u6301\u6C49\u5B57\u3001\u5B57\u6BCD\u548C\u6570\u5B57",this.showToastSelf(e,t)):l.trimAllSpace(this.appealVo.appealTitle)!=""&&l.trimAllSpace(this.appealVo.appealTitle).length>14?(e=!0,t="\u6700\u591A14\u4E2A\u5B57\u7B26",this.showToastSelf(e,t)):l.trimAllSpace(this.appealVo.appealContent)==""?(t?t=t+"\u5E76\u4E14\u8BF7\u8F93\u5165\u8BC9\u6C42\u5185\u5BB9":t="\u8BF7\u8F93\u5165\u8BC9\u6C42\u5185\u5BB9",e=!0,this.showToastSelf(e,t)):l.trimAllSpace(this.appealVo.appealContent)!=""&&this.checkStrFormat(l.trimAllSpace(this.appealVo.appealContent))?(e=!0,t?t=t+"\u5E76\u4E14\u8BC9\u6C42\u5185\u5BB9\u4E0D\u652F\u6301\u7279\u6B8A\u5B57\u7B26":t="\u8BC9\u6C42\u5185\u5BB9\u4E0D\u652F\u6301\u7279\u6B8A\u5B57\u7B26",this.showToastSelf(e,t)):l.trimAllSpace(this.appealVo.appealContent)!=""&&l.trimAllSpace(this.appealVo.appealContent).length>500?(e=!0,t?t=t+"\u5E76\u4E14\u8BC9\u6C42\u5185\u5BB9\u6700\u591A500\u4E2A\u5B57\u7B26":t="\u8BC9\u6C42\u5185\u5BB9\u6700\u591A500\u4E2A\u5B57\u7B26",this.showToastSelf(e,t)):this.appealVo.appealTypeCode==0?(t?t=t+"\uFF0C\u5E76\u9009\u62E9\u8BC9\u6C42\u7C7B\u578B":t="\u8BF7\u9009\u62E9\u8BC9\u6C42\u7C7B\u578B",e=!0,this.showToastSelf(e,t)):l.trimAllSpace(this.linkList[0].value)==""?(e=!0,t="\u8BF7\u8F93\u5165\u8054\u7CFB\u4EBA",this.showToastSelf(e,t)):l.trimAllSpace(this.linkList[0].value)!=""&&!l.checkStr(l.trimAllSpace(this.linkList[0].value),"cnAndEn")?(e=!0,t?t=t+"\u5E76\u4E14\u8054\u7CFB\u4EBA\u540D\u79F0\u652F\u6301\u6C49\u5B57\u548C\u5B57\u6BCD":t="\u8054\u7CFB\u4EBA\u540D\u79F0\u652F\u6301\u6C49\u5B57\u548C\u5B57\u6BCD",this.showToastSelf(e,t)):l.trimAllSpace(this.linkList[0].value)!=""&&l.trimAllSpace(this.linkList[0].value).length>10?(e=!0,t?t=t+"\u5E76\u4E14\u8054\u7CFB\u4EBA\u540D\u79F0\u6700\u591A10\u4E2A\u5B57\u7B26":t="\u8054\u7CFB\u4EBA\u540D\u79F0\u6700\u591A10\u4E2A\u5B57\u7B26",this.showToastSelf(e,t)):!this.linkList[1].value&&l.trimAllSpace(this.linkList[1].value)==""?(e=!0,t?t=t+"\u5E76\u4E14\u8BF7\u8F93\u5165\u624B\u673A\u53F7":t="\u8BF7\u8F93\u5165\u624B\u673A\u53F7",this.showToastSelf(e,t)):this.linkList[1].value&&l.trimAllSpace(this.linkList[1].value)!=""&&(!l.checkStr(l.trimAllSpace(this.linkList[1].value),"phone")||l.trimAllSpace(this.linkList[1].value).length>11)?(e=!0,t?t=t+"\u5E76\u4E14\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7":t="\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7",this.showToastSelf(e,t)):(this.showToastSelf(e,t),e)},showToastSelf(e,t){return e&&this.$toast(t),e},trimSpace(e){e.replace(" ","")},ClearBr(e){return e=e.replace(/<\/?.+?>/g,""),e=e.replace(/[\r\n]/g,""),e},clickApealInfo(){this.isCheckSub()||!this.hasUploadDone||l.debounce(this.normalBtn(),500)},normalBtn(){let e=[],t=[];this.picImgs.map(o=>{o.status=="done"&&(e.push({ossAddr:o.link}),t.push(o.attachId))});let a={attachmentIds:t,attachments:e,content:this.appealVo.appealContent,attn:this.linkList[0].value,entId:this.companyId,srcCode:1,srcName:"APP",tel:this.linkList[1].value,title:this.appealVo.appealTitle,typeCode:this.appealVo.appealTypeCode},h=this;this.$api.submitEnterpriseDemands(a,{},1).then(o=>{console.log(o),o.code==200?(h.isComplete=!0,this.appealId=o.data.id):(h.isComplete=!1,this.$toast(o.msg))})}},created(){},mounted(){document.getElementsByClassName("appContent")[0].scrollTop=0},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}}),c=e=>(N("data-v-2792fa5e"),e=e(),P(),e),F={key:0,class:"appeal-cont",ref:"appealCont"},H={class:"inputList"},M={class:"inputCont flex-ro justify-side"},j=c(()=>i("div",{class:"input-title flex-ro"},[r(" \u8BC9\u6C42\u6807\u9898"),i("text",{class:"sp"},"*")],-1)),z={class:"input-text"},Y={class:"inputList"},K={class:"inputCont special-model"},R=c(()=>i("div",{class:"input-title flex-ro"},[r(" \u8BC9\u6C42\u7C7B\u578B"),i("text",{class:"sp"},"*")],-1)),W=["onClick"],X={key:0,src:G},q={class:"inputList"},J={class:"inputCont flex-ro justify-side align-start"},$=c(()=>i("div",{class:"input-title flex-ro"},[r(" \u8BC9\u6C42\u5185\u5BB9"),i("text",{class:"sp"},"*")],-1)),Q={class:"input-text"},O={class:"inputList",style:{"padding-bottom":"20px"}},Z=c(()=>i("div",{class:"inputBig"},[i("div",null,"\u4F01\u4E1A\u8054\u7CFB\u65B9\u5F0F")],-1)),ee={class:"inputCont flex-ro justify-side"},te={class:"input-title flex-ro special-width"},le={key:0,class:"sp"},ae={class:"input-text border"},ie=["onBlur","maxlength","onUpdate:modelValue"],se={class:"inputList"},oe={class:"inputCont flex-ro"},pe=c(()=>i("div",{class:"input-title flex-ro",style:{"padding-right":"10px"}}," \u8BC9\u6C42\u7167\u7247 ",-1)),ne={class:"btn"};function re(e,t,a,h,o,u){const V=d("van-col"),_=d("van-row"),L=d("upload-pics"),I=d("ApplyThree");return e.isComplete?(p(),y(I,{key:1,contextInfo:"\u60A8\u7684\u8BC9\u6C42\u5DF2\u88AB\u63A5\u6536\uFF0C\u76F8\u5173\u90E8\u95E8\u5C06\u5728\u4E00\u4E2A\u5DE5\u4F5C\u65E5\u5185<br/>\u4E0E\u60A8\u7535\u8BDD\u8054\u7CFB\uFF0C\u8BF7\u4FDD\u6301\u7535\u8BDD\u7545\u901A\u3002",isShowbtn:e.isShowbtn,appealId:e.appealId,btn_text:e.btnText},null,8,["isShowbtn","appealId","btn_text"])):(p(),n("div",F,[i("div",H,[i("div",M,[j,i("div",z,[S(i("input",{type:"text",onBlur:t[0]||(t[0]=(...s)=>e.getCompanyAppeal&&e.getCompanyAppeal(...s)),onKeyup:t[1]||(t[1]=s=>e.appealVo.appealTitle=e.appealVo.appealTitle.replace(/[, ]/g,"")),onkeypress:"javascript:if(event.keyCode == 32)event.returnValue = false;","onUpdate:modelValue":t[2]||(t[2]=s=>e.appealVo.appealTitle=s),placeholder:"\u8BF7\u8F93\u5165\u8BC9\u6C42\u6807\u9898",maxlength:14,"maleplaceholder-style":"color:#D0D0D0"},null,544),[[A,e.appealVo.appealTitle]])])])]),i("div",Y,[i("div",K,[R,v(_,{gutter:"5",class:"slect"},{default:g(()=>[(p(!0),n(k,null,T(e.selectData,(s,m)=>(p(),y(V,{span:"8",class:"appeal-box relative f-14",key:m},{default:g(()=>[i("div",{class:B(["sl-card flex",{hasChoose:s.isChoose,"mar-right-apeal":(m+1)%3!=0}]),onClick:f=>e.chooseSlec(m)},[r(C(s.name)+" ",1),s.isChoose?(p(),n("img",X)):b("",!0)],10,W)]),_:2},1024))),128))]),_:1})])]),i("div",q,[i("div",J,[$,i("div",Q,[S(i("textarea",{onBlur:t[3]||(t[3]=(...s)=>e.bindTextAreaBlur&&e.bindTextAreaBlur(...s)),"onUpdate:modelValue":t[4]||(t[4]=s=>e.appealVo.appealContent=s),maxlength:"500",placeholder:"500\u5B57\u7B26\u4EE5\u5185\uFF0C\u652F\u6301\u5B57\u6BCD\uFF08\u5927\u5C0F\u5199\uFF09\u548C\u6570\u5B57"},null,544),[[A,e.appealVo.appealContent]])])])]),i("div",O,[Z,(p(!0),n(k,null,T(e.linkList,(s,m)=>(p(),n("div",ee,[i("div",te,[r(C(s.name),1),s.sp?(p(),n("text",le,"*")):b("",!0)]),i("div",ae,[S(i("input",{class:"special-info-border",type:"inputDatam.type",onBlur:f=>e.contactInfoCheck(s),maxlength:s.max?s.max:100,"onUpdate:modelValue":f=>s.value=f,placeholder:"\u8BF7\u8F93\u5165","placeholder-style":"color:#D0D0D0"},null,40,ie),[[A,s.value]])])]))),256))]),i("div",se,[i("div",oe,[pe,v(L,{onReceivePic:e.receivePic,onUploadDone:e.uploadDone},null,8,["onReceivePic","onUploadDone"])])]),i("div",ne,[i("button",{class:"normal-btn",onClick:t[5]||(t[5]=(...s)=>e.clickApealInfo&&e.clickApealInfo(...s))},"\u63D0\u4EA4")])],512))}var He=D(U,[["render",re],["__scopeId","data-v-2792fa5e"]]);export{He as default};
