import{h as U,g as R}from"./index.67bdbe62.js";import{b as F,u as G}from"./_vue-router@4.0.14@vue-router.c27d2a8d.js";import{u as J}from"./_vuex@4.0.2@vuex.35900dea.js";import{_ as P}from"./plugin-vue_export-helper.21dcd24c.js";import{r as n,a as K}from"./_@vue_reactivity@3.2.31@@vue.435b5d06.js";import{y as N,z as l,A as m,E as a,m as j,C as V,G as M,F as D,J as I,D as A,g as Q,K as Y,L as H,s as y}from"./_@vue_runtime-core@3.2.31@@vue.b0aa5f29.js";import{I as i}from"./_@vue_shared@3.2.31@@vue.7f2d3904.js";import"./_@vue_runtime-dom@3.2.31@@vue.240af360.js";import"./_vant@3.4.6@vant.e4fff504.js";import"./_@vant_use@1.3.6@@vant.1b0ef691.js";import"./_@vant_popperjs@1.1.0@@vant.ae31ad00.js";import"./_vue-mobile-calendar@3.3.0@vue-mobile-calendar.c9c3461a.js";import"./_axios@0.21.4@axios.56d8ec29.js";import"./_qs@6.10.3@qs.59603e06.js";import"./_side-channel@1.0.4@side-channel.0a841574.js";import"./_get-intrinsic@1.1.1@get-intrinsic.46bb42c1.js";import"./_has-symbols@1.0.3@has-symbols.7f361f9b.js";import"./_function-bind@1.1.1@function-bind.09a6b7a3.js";import"./_has@1.0.3@has.dc0c57e0.js";import"./_call-bind@1.0.2@call-bind.c10bfa07.js";import"./_object-inspect@1.12.0@object-inspect.b4aaeeae.js";import"./_lodash@4.17.21@lodash.2e4506b9.js";import"./_dayjs@1.11.0@dayjs.c3a0a36c.js";import"./_echarts@5.2.2@echarts.518f2fa5.js";import"./_tslib@2.3.0@tslib.54efd67f.js";import"./_zrender@5.2.1@zrender.d1d234d3.js";import"./_@vue_devtools-api@6.1.3@@vue.3188b863.js";const q=new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAzxJREFUSEu9lktME1EUhv8zLQGLPDotihiMdvBtMMaNGxM1JoKISAxGNy7ckUALiVEXJmLie2FscWViiK9EIgEf+NzowsSFIfFFNNhpQlQUkSnIw1DtHDNT+0Y6SnVW03v/83/33Dn39BL+80N/xmNyOP3FgiDYtThVVb/4PNZ3ALFRn9TAGjaVFA5Xg9RqBjYDnB9vTkMgvktAh7dPbMc1Ck4FnxJY4vJvZVZPAFhqLAN6TUQHvG7rzd/pJweue2iWSleeBrjeGChBRXRWtlob0UQ/EuOTgTVskoqUG2BU/BUsEkR35BfPq/BofRw0CSi5Bt1gOKcHC0dTs+wR47zigI56pYKIO9MDC7kIRJVv3WLEMwrUtnKO/xnAK9IJBFG33GddGa7eCFCq82+DoHakFfbLjJm3+5rt7drPKNClXADz7n8BBOiS7BF17yjQOTgAQO8g6X9oUPaIurcOXOAanS3wxKdYkEkAjuywQCo04XDbOLrfhxrImoVm7Ku04KnvO45f/6aPmQXg6M5szC8QcOjaON70JTebH4Ja1Hum4KMOLGkcWc7BwKtYoGZ8uS5XH7r3LIC6llH9vdWVg9WODP297NgQvP0q1i7JQEttjj52q2sCjRfHkjaJVSr1nRVfhoD1I8uYAt2xKttMQuf+PNhzCE1t47jyeEKfdpVnob7Mgt6BILacGsa3AFCQS7i9Pw/WbMLB1jG0PgkkA80Zi32nc3t0oLR3ZBYCgf5ElSUTyLcI6POrcVPFNgGfv6qY+B4dzs4E8ibRhhU8g/J9J8Xh2KLRvuHs9BeM5sj9ssdeGCkafVudg+cZ2PNvgJMcC0eDUkFqettaePFEQlX4Lyva2phJcvm7AF6V5ixfyR6xNHwriGveixqHNgaD6gOAU98EjKyKwSSg3Ou23Y9kmxjncCrHCXzAiJ8BjVv22BpidcmZNLEgKcpVADUGDFNJrsoe266pgdpsEwsOxX/kV6bT2t7Ygok7FpMtVWr4sgEqTgG0OlUqv50n+sBZWK4d+pTAkAmT5FQ2AVQNsHbPmfun8NBNTjxpEBhvP692yGrOIDshmGkETCbmvDGxp+sc6Y1wWt/HCDBR8xM1ERYsBaYRjQAAAABJRU5ErkJggg==",self.location).href,z={setup(){const u=n(q),r=Q();let h=K({title:"\u5F53\u524D\u8BC9\u6C42",aplContent:"\u8BC9\u6C42\u5185\u5BB9\u8BC9\u6C42\u5185\u5BB9\u8BC9\u6C42\u5185\u5BB9\u8BC9\u6C42\u5185\u5BB9\u8BC9\u6C42\u5185\u5BB9\u8BC9\u6C42\u5185\u5BB9\u8BC9\u6C42\u5185\u5BB9\u8BC9\u6C42\u5185\u5BB9\u8BC9\u6C42\u5185\u5BB9"});const t=U("get","chooseCompanyId");let c=n(!1),g=n(!1),v=n([]),k=n(0),_=n(0),f=n(10),d=n(1);const o=F(),S=G(),{query:s}=S;let p=n(s.appealId?s.appealId:"");const E=J(),C=r.appContext.config.globalProperties.$api;let{replyMode:w}=E;const O=e=>e||"",B=()=>{c.value||(c.value=!0,C.viewReplyDetail({aplId:p.value,current:d.value,size:f.value},{"Content-Type":"application/x-www-form-urlencoded"}).then(e=>{console.log(e),e.code===200&&e.data?(h.title=e.data.aplTitle?e.data.aplTitle:"",h.aplContent=e.data.aplContentVOList&&e.data.aplContentVOList.length>0&&e.data.aplContentVOList[0].aplContent?e.data.aplContentVOList[0].aplContent:"",e.data.ipage&&(v.value=v.value.concat(JSON.parse(JSON.stringify(e.data.ipage.records))),k.value=e.data.ipage.total,_.value=e.data.ipage.pages),c.value=!1,v.value.length==e.data.ipage.total&&(g.value=!0)):g.value=!0}).catch(()=>{c.value=!1,g.value=!0}))};B();const x=(e,L=!1,T=!1)=>R(e,L,T);return{allPages:_,appealId:p,msgIcon:u,detailVo:h,replyList:v,loading:c,finished:g,total:k,currentPage:d,pageSize:f,entId:t,replyMode:w,onLoad:()=>{d.value<_.value&&!c.value&&(d.value++,B())},transformDetail:(e,L=!1)=>{!p.value||o.push({path:e,query:L?{appealId:p.value}:{id:p.value,statue:5,tabIndex:1}})},getSliceStr:x,commitUser:e=>x({value:e.evaluatorName,len:5,needEllipsis:!0})+(e.evaluatorName?"/":"")+x({value:e.evaluatorDeptName,len:6,needEllipsis:!0}),initTime:O,getSubSection:e=>e==0?"\u8D23\u529E":e==1?"\u534F\u529E":""}}},b=u=>(Y("data-v-6c12ce18"),u=u(),H(),u),X={class:"reply-container"},W={class:"reply-information special-border-top"},Z={class:"view-appeal-info flex reply-detail-border-bottom"},$=b(()=>a("span",{class:"label"},"\u8BC9\u6C42",-1)),ee={class:"reply-label appeal-text ellipsis title"},te={class:"reply-label appeal-text more-ellipsis-two content"},ae={class:"reply-information-body special-border-top"},oe={class:"space reply-detail-border-bottom"},se={class:"reply-list-panel"},ie={class:"reply-person-table flex"},ne=["src"],le={class:"reply-content reply-detail-border-bottom"},re={class:"ellipsis"},ce={class:"section text-margin-small"},de={class:"commit-model word-break-custom text-margin-large"},pe={class:"byte inline-block"},me=b(()=>a("span",{class:"type inline-block"},"\u70B9\u8BC4",-1)),ue=b(()=>a("i",{class:"tip inline-block"},":",-1)),ve={class:"time"},ge={key:0,class:"self-section text-margin-small"},_e={key:0,class:"slip"},fe={class:"byte inline-block"},Ae=b(()=>a("span",{class:"type inline-block"},"\u56DE\u590D",-1)),ye=b(()=>a("i",{class:"tip inline-block"},":",-1)),be={class:"time"},he={class:"submit-operation absolute"};function ke(u,r,h,t,c,g){var f,d;const v=N("van-icon"),k=N("van-list"),_=N("none-data");return l(),m("div",X,[a("div",W,[a("div",Z,[$,j(v,{name:"arrow",color:"#999",class:"view-info",size:"12",onClick:r[0]||(r[0]=o=>t.transformDetail("/apealDetail"))})]),a("div",ee,i((f=t.detailVo)==null?void 0:f.title),1),a("div",te,i((d=t.detailVo)==null?void 0:d.aplContent),1)]),a("div",ae,[a("div",oe," \u5168\u90E8\u70B9\u8BC4("+i(t.total)+") ",1),a("div",se,[t.replyList.length>0?(l(),V(k,{key:0,class:"replyList",modelValue:t.loading,"onUpdate:modelValue":r[1]||(r[1]=o=>t.loading=o),offset:"30",finished:t.finished,onLoad:t.onLoad},{default:M(()=>[(l(!0),m(D,null,I(t.replyList,(o,S)=>(l(),m("div",{class:"reply-all-info",key:S},[a("div",ie,[a("img",{src:t.msgIcon,class:"msg-icon"},null,8,ne),a("div",le,[a("div",re,[a("div",ce,i(t.commitUser(o)),1),a("div",de,[a("span",pe,[me,y(i(t.getSliceStr({value:o.evaluatedDeptNames,len:6,needEllipsis:!0})),1)]),ue,y(" "+i(o.evaluateContent),1),a("i",ve,i(t.initTime(o.evaluateTime)),1)])]),o.replyList?(l(!0),m(D,{key:0},I(o.replyList,(s,p)=>(l(),m("div",{class:"reply-model commit-model word-break-custom text-margin-large",key:p},[t.getSliceStr({value:s.replyDeptName,len:6,needEllipsis:!0})?(l(),m("div",ge,[t.getSubSection(s==null?void 0:s.replyDeptType)?(l(),m("span",_e,i(t.getSubSection(s==null?void 0:s.replyDeptType)),1)):A("",!0),y(i(t.getSliceStr({value:s.replyDeptName,len:6,needEllipsis:!0})),1)])):A("",!0),a("span",fe,[Ae,y(i(t.commitUser(o)),1)]),ye,y(" "+i(s.replyContent)+" ",1),a("i",be,i(t.initTime(s.replyTime)),1)]))),128)):A("",!0)])])]))),128))]),_:1},8,["modelValue","finished","onLoad"])):A("",!0),t.finished&&t.replyList.length==0?(l(),V(_,{key:1,value:"\u6682\u65E0\u70B9\u8BC4",class:"reply-nodata"})):A("",!0)])]),a("div",he,[a("span",{class:"normal-sub point",onClick:r[2]||(r[2]=o=>t.transformDetail("/replyCommit",!0))},"\u53BB\u70B9\u8BC4")])])}var et=P(z,[["render",ke],["__scopeId","data-v-6c12ce18"]]);export{et as default};
