import{h as F,b as H,d as U,f as Y,i as G,j as J,k as Q}from"./index.67bdbe62.js";import{b as B,u as T}from"./_vue-router@4.0.14@vue-router.c27d2a8d.js";import{u as R}from"./_vuex@4.0.2@vuex.35900dea.js";import{b as W}from"./_@vue_runtime-dom@3.2.31@@vue.240af360.js";import{_ as E}from"./plugin-vue_export-helper.21dcd24c.js";import{r as p,u as v,i as X}from"./_@vue_reactivity@3.2.31@@vue.435b5d06.js";import{c as L,y as f,z as s,A as i,E as _,D as b,m as g,G as N,s as z,F as q,J as j,C as M,b as Z}from"./_@vue_runtime-core@3.2.31@@vue.b0aa5f29.js";import{I as m}from"./_@vue_shared@3.2.31@@vue.7f2d3904.js";import"./_vant@3.4.6@vant.e4fff504.js";import"./_@vant_use@1.3.6@@vant.1b0ef691.js";import"./_@vant_popperjs@1.1.0@@vant.ae31ad00.js";import"./_vue-mobile-calendar@3.3.0@vue-mobile-calendar.c9c3461a.js";import"./_axios@0.21.4@axios.56d8ec29.js";import"./_qs@6.10.3@qs.59603e06.js";import"./_side-channel@1.0.4@side-channel.0a841574.js";import"./_get-intrinsic@1.1.1@get-intrinsic.46bb42c1.js";import"./_has-symbols@1.0.3@has-symbols.7f361f9b.js";import"./_function-bind@1.1.1@function-bind.09a6b7a3.js";import"./_has@1.0.3@has.dc0c57e0.js";import"./_call-bind@1.0.2@call-bind.c10bfa07.js";import"./_object-inspect@1.12.0@object-inspect.b4aaeeae.js";import"./_lodash@4.17.21@lodash.2e4506b9.js";import"./_dayjs@1.11.0@dayjs.c3a0a36c.js";import"./_echarts@5.2.2@echarts.518f2fa5.js";import"./_tslib@2.3.0@tslib.54efd67f.js";import"./_zrender@5.2.1@zrender.d1d234d3.js";import"./_@vue_devtools-api@6.1.3@@vue.3188b863.js";const tt={class:"id-cont f-12"},et={class:"f-14 title ellipsis"},at={class:"f-12 more-ellipsis-two"},st={class:"time f-12 flex justify-side"},ot={key:0,class:"ellipsis",style:{flex:"1"}},it={key:1,class:"ellipsis post"},nt={key:0,class:"new-infor absolute"},rt=["onClick"],ct={props:{type:{type:String,default:""},cardData:{type:Object,default:()=>{}},active:{type:Number,default:0}},setup(e){const t=e,r=B(),o=R(),c=p(!0),l=L(()=>t.type=="instructions"?t.active==0?`\u6279\u793A\u65F6\u95F4\uFF1A${t.cardData.instructionsTime}`:`\u56DE\u590D\u65F6\u95F4\uFF1A${t.cardData.replyTime}`:t.active==0?`\u63D0\u4EA4\u65F6\u95F4\uFF1A${t.cardData.createTime}`:`${t.type=="entMail"?"\u5B8C\u6210\u65F6\u95F4":"\u5904\u7406\u5B8C\u6210\u65F6\u95F4"}\uFF1A${t.type=="entMail"?t.cardData.replyTime:t.cardData.instructionsTime}`),a=L(()=>{if(t.active===1||t.type==="entMail")return"";if(t.type==="headMail")return"\u53BB\u6279\u793A";if(t.type==="instructions")return"\u56DE\u590D"}),n=()=>{c.value=!1,r.push({name:"districtMailboxDetail",params:{type:t.type},query:{id:t.cardData.id,active:t.active}})},u=()=>{o.commit("SET_CONTROLLTYPE",t.type),o.commit("SET_CONTROLLID",t.cardData.id),r.push({name:"districtMailboxEdit"})};return(d,$)=>{const w=f("van-button");return s(),i("div",{class:"card-cont relative",onClick:n},[_("div",tt,"ID\uFF1A"+m(e.cardData.mailCode),1),_("div",et,m(e.cardData.mailTitle),1),_("div",at,m(e.cardData.mailContent),1),_("div",st,[e.type=="headMail"?(s(),i("div",ot,m(e.cardData.entName),1)):b("",!0),e.type=="instructions"&&e.cardData.instructionsPost&&e.cardData.instructionsName?(s(),i("div",it,m(e.cardData.instructionsPost+"-"+e.cardData.instructionsName),1)):b("",!0),_("div",null,m(v(l)),1)]),(e.cardData.entNewReply==1||e.cardData.instructionsNewReply==1)&&c.value?(s(),i("div",nt,"\u65B0\u56DE\u590D")):b("",!0),v(a)?(s(),i("div",{key:1,class:"btnDom flex justify-end",onClick:W(u,["stop"])},[g(w,{plain:"",hairline:"",color:"#236EED",type:"primary",style:{padding:"0px 22px",height:"32px"}},{default:N(()=>[z(m(v(a)),1)]),_:1})],8,rt)):b("",!0)])}}};var lt=E(ct,[["__scopeId","data-v-21271f46"]]);const ut={class:"tabCont"},dt={props:{type:{type:String,default:""},active:{type:Number,default:0}},emits:["onClickTab"],setup(e,{emit:t}){const r=e,o=r.type==="headMail"?["\u5F85\u5904\u7406","\u5DF2\u6279\u793A"]:r.type==="entMail"?["\u5904\u7406\u4E2D","\u5904\u7406\u5B8C\u6210"]:["\u5F85\u56DE\u590D","\u5DF2\u56DE\u590D"],c=l=>{t("onClickTab",l.name)};return(l,a)=>{const n=f("van-tab"),u=f("van-tabs");return s(),i("div",ut,[g(u,{class:"tabs",active:e.active,"onUpdate:active":a[0]||(a[0]=d=>X(active)?active.value=d:null),"line-width":"40","line-height":"2","title-active-color":"rgb(35, 110, 237)",onClickTab:c},{default:N(()=>[(s(!0),i(q,null,j(v(o),d=>(s(),M(n,{key:d,title:d},null,8,["title"]))),128))]),_:1},8,["active"])])}}};var pt=E(dt,[["__scopeId","data-v-54df8fc6"]]);const vt={class:"search-box"},mt={key:0,class:"mar-left-self",style:{color:"#BBB"}},_t={key:1,class:"mar-left-self f-14 label-color ellipsis"},ft={props:{type:{type:String,default:""},active:{type:Number,default:0}},setup(e){const t=e,r=B(),o=T(),c=p(o.query.keyword),l=()=>{r.push({path:"/commonSeacher",query:{funcName:t.type,tabIndex:t.active}})};return(a,n)=>{const u=f("van-icon");return s(),i("div",vt,[_("div",{class:"search-cont f-14 flex ellipsis",onClick:l},[g(u,{name:"search",class:"search-icon",color:"#BBB",size:"20"}),c.value?(s(),i("text",_t,m(c.value),1)):(s(),i("text",mt,"\u641C\u7D22"))])])}}};var yt=E(ft,[["__scopeId","data-v-31f91db6"]]);const ht={class:"listCont"},bt={class:"list"},gt={class:"scroller"},xt=z(" \u65B0\u589E "),kt={setup(e){const t=R(),r=B(),{type:o}=T().params,{tabIndex:c=0,keyword:l=""}=T().query,a=p(Number(c)),n=p([]),u=p(!1),d=p(!1),$=p(1),w=p(10),S=p(!1),P={headMail:[H,U],entMail:[Y,G],instructions:[J,Q]},I=()=>{const y=V(),h={asc:!1,current:$.value++,mailTitle:l,orderBy:y,size:w.value};o=="entMail"&&(h.entId=F("get","chooseCompanyId")),P[o][a.value](h).then(x=>{var k;if(x.code==200&&((k=x.data)==null?void 0:k.records)){const{records:D,size:C,total:Dt}=x.data;D.length>0?(n.value=[...n.value,...D],console.log(n.value),u.value=!1):(d.value=!0,n.value.length==0&&(S.value=!0))}})},V=()=>{switch(o){case"entMail":return a.value==0?1:3;case"headMail":return a.value==0?1:2;case"instructions":return a.value==0?2:3;default:return 1}},O=()=>{$.value=1,S.value=!1,d.value=!1,n.value=[],I()},A=y=>{a.value=y,O()},K=()=>{t.commit("SET_CONTROLLTYPE",o),r.push({name:"districtMailboxEdit"})};return Z(()=>{if(t.getters.isHandleEdit){const{tabIndex:y=0,keyword:h=""}=T().query;a.value=Number(y),t.commit("SET_HANDLEEDIT",!1),O()}}),(y,h)=>{const x=f("van-list"),k=f("none-data"),D=f("van-button");return s(),i("div",ht,[g(yt,{type:v(o),active:a.value,urlKeyword:v(l)},null,8,["type","active","urlKeyword"]),g(pt,{type:v(o),active:a.value,onOnClickTab:A},null,8,["type","active"]),_("div",bt,[_("div",gt,[g(x,{loading:u.value,"onUpdate:loading":h[0]||(h[0]=C=>u.value=C),finished:d.value,onLoad:I},{default:N(()=>[(s(!0),i(q,null,j(n.value,C=>(s(),M(lt,{cardData:C,type:v(o),active:a.value},null,8,["cardData","type","active"]))),256))]),_:1},8,["loading","finished"])]),S.value?(s(),M(k,{key:0,value:"\u6682\u65E0\u5185\u5BB9"})):b("",!0)]),v(o)==="entMail"?(s(),M(D,{key:0,type:"primary",style:{color:"#ffffff","font-size":"18px",border:"none","border-radius":"5px","margin-bottom":"10px",width:"92%",margin:"0 auto"},onClick:K,class:"normal-btn"},{default:N(()=>[xt]),_:1})):b("",!0)])}}};var Wt=E(kt,[["__scopeId","data-v-448a63b2"]]);export{Wt as default};
