import{c as x}from"./index.67bdbe62.js";import{v as p}from"./_@vue_runtime-dom@3.2.31@@vue.240af360.js";import{_ as b}from"./plugin-vue_export-helper.21dcd24c.js";import{y as o,z as i,A as a,E as r,F as f,J as m,m as c,G as d,D as C,r as y,C as R,s as S}from"./_@vue_runtime-core@3.2.31@@vue.b0aa5f29.js";import{I as u,q as v}from"./_@vue_shared@3.2.31@@vue.7f2d3904.js";import"./_vant@3.4.6@vant.e4fff504.js";import"./_@vant_use@1.3.6@@vant.1b0ef691.js";import"./_@vue_reactivity@3.2.31@@vue.435b5d06.js";import"./_@vant_popperjs@1.1.0@@vant.ae31ad00.js";import"./_vue-mobile-calendar@3.3.0@vue-mobile-calendar.c9c3461a.js";import"./_axios@0.21.4@axios.56d8ec29.js";import"./_vuex@4.0.2@vuex.35900dea.js";import"./_@vue_devtools-api@6.1.3@@vue.3188b863.js";import"./_vue-router@4.0.14@vue-router.c27d2a8d.js";import"./_qs@6.10.3@qs.59603e06.js";import"./_side-channel@1.0.4@side-channel.0a841574.js";import"./_get-intrinsic@1.1.1@get-intrinsic.46bb42c1.js";import"./_has-symbols@1.0.3@has-symbols.7f361f9b.js";import"./_function-bind@1.1.1@function-bind.09a6b7a3.js";import"./_has@1.0.3@has.dc0c57e0.js";import"./_call-bind@1.0.2@call-bind.c10bfa07.js";import"./_object-inspect@1.12.0@object-inspect.b4aaeeae.js";import"./_lodash@4.17.21@lodash.2e4506b9.js";import"./_dayjs@1.11.0@dayjs.c3a0a36c.js";import"./_echarts@5.2.2@echarts.518f2fa5.js";import"./_tslib@2.3.0@tslib.54efd67f.js";import"./_zrender@5.2.1@zrender.d1d234d3.js";const _={data(){return{policyInforCodeNum:"",navStyle:{navTitle:"\u653F\u7B56\u8BE6\u60C5",leftIcon:"arrowthinleft"},policyInforVo:{},policyLabel:["\u91CD\u70B9\u6807\u7B7E","\u653F\u5E9C\u7EA2\u5229","\u91CD\u70B9\u6807\u7B7E\u91CD\u70B9\u6807\u7B7E1"],tabData:["\u653F\u7B56\u5185\u5BB9","\u76F8\u5173\u5185\u5BB9"],defaultConfigBase:{activeColor:"#236EED",underLineColor:"#236EED",underLineHeight:2,fontSize:16,fontWeight:500,underLineWidth:32,color:"#444",height:44,borderBottom:"0.5px solid #EDEDF4"},funcName:"",currentVoIndex:0,defaultHeight:0,isOriginalInfo:0,detailId:null,isRelevant:!1,activeIndex:0,isWebview:0,isHome:0,detailVo:{zcxc:{default:"getPolicyDetail"},jzts:{default:"getPolicyDetail"},xmsb:{default:"getApplyPolicyDetail",relevant:"getPolicyDetail"},msjx:{default:"getFreeApplyPolicyDetail",relevant:"getPolicyDetail"},relevantFree:"getPolicyDetail",relevantApply:"",relevant:"",sourceType:0,policyRelevant:!1,needChildRefresh:!1}}},watch:{funcName:{handler(e){(e=="zcxc"||e=="jzts")&&(this.tabData=["\u653F\u7B56\u5185\u5BB9","\u76F8\u5173\u9879\u76EE"]),(e=="xmsb"||e=="msjx")&&(this.tabData=["\u9879\u76EE\u5185\u5BB9","\u653F\u7B56\u4F9D\u636E"]),this.navStyle.navTitle=this.getNavTitle()},immediate:!0},$route(e,l){e.name=="policyDetail"&&(this.getParams(),this.currentVoIndex=0)}},mounted(){this.getParams()},methods:{getNavTitle(){switch(this.funcName){case"zcxc":return this.isRelevant?this.sourceType==2?"\u9879\u76EE\u8BE6\u60C5":this.sourceType==2?"\u653F\u7B56\u8BE6\u60C5":"\u8BE6\u60C5":"\u653F\u7B56\u8BE6\u60C5";case"jzts":return this.isRelevant?"\u9879\u76EE\u8BE6\u60C5":"\u653F\u7B56\u8BE6\u60C5";case"xmsb":return this.isRelevant?"\u653F\u7B56\u4F9D\u636E\u8BE6\u60C5":"\u7533\u62A5\u8BE6\u60C5";case"msjx":return this.isRelevant?"\u653F\u7B56\u4F9D\u636E\u8BE6\u60C5":"\u8BE6\u60C5";default:return}},getParams(){const e=this.$route.query;this.funcName=e.funcName?e.funcName:"",this.isOriginalInfo=e.isOriginalInfo?Number(e.isOriginalInfo):0,this.activeIndex=e.activeIndex?Number(e.activeIndex):0,this.sourceType=e.type?Number(e.type):0,this.isHome=e.isHome?Number(e.isHome):0,this.detailId=e.id||"",this.isRelevant=e.isRelevant=="true",this.policyRelevant=!!(this.isRelevant&&(this.funcName=="zcxc"||this.funcName=="jzts")),this.getInitDetail()},changeStatus(e){!e.dictionary||Object.keys(e.dictionary).forEach(l=>{this.policyInforVo[e.dictionary[l]]=e[l]})},getItemWord(e){if(!e)return!1;if(this.funcName=="zcxc"&&!this.policyRelevant||this.policyRelevant&&this.sourceType==1||this.funcName=="jzts"&&!this.policyRelevant||(this.funcName=="msjx"||this.funcName=="xmsb")&&this.isRelevant)return{id:e.id,codeNum:e.codeNum,policyTypeName:e.policyTypeName,title:e.policyTitle,postOffice:e.postOfficeName,policyLabel:this.handleLabelFormat(e.highlightLabels),summary:e.policyAbs,content:e.content,isCollectSummary:!1,isUpSummary:!1,isCollect:!1,isUp:!1,sourceType:e.sourceType,originalAttachment:this.funcName=="msjx"&&this.isRelevant?e.contentAttachment:e.originalAttachment,contentAttachment:this.funcName=="msjx"&&this.isRelevant?e.originalAttachment:e.contentAttachment,writDt:e.writDt};if(this.funcName=="xmsb"&&!this.isRelevant||this.policyRelevant&&this.sourceType==2)return{id:e.id,title:e.name,isSpecificTime:e.isSpecificTime,notSpecificTimeFlag:e.notSpecificTimeFlag,declareStartTime:e.declareStartTime,declareEndTime:e.declareEndTime,declareProjectTypeName:e.declareProjectTypeName,policyLabel:this.handleLabelFormat(e.highlightLabels),hasCommitment:e.hasCommitment,bizStatus:e.declareStatus,content:e.declareProcess,summary:e.rewardBenchmark,isCollectOther:!1,declareSupportName:e.declareSupportName,isUpOther:!1,isCollectSummary:!1,isUpSummary:!1,isCollect:!1,isUp:!1,target:e.target,type:e.declareSupportName,projectType:e.declareProjectTypeName,status:e.declareStatus,otherRequirements:e.declareExplainContent,handleDeptList:e.handleDeptList};if(this.funcName=="msjx"&&!this.isRelevant||this.policyRelevant&&this.sourceType==3)return{id:e.id,title:e.name,policyLabel:this.handleLabelFormat(e.highlightLabels),hasCommitment:e.hasCommitment,originalAttachment:e.materialList,bizStatus:e.bizStatus,declareStartTime:e.declareStartTime,declareEndTime:e.declareEndTime,notSpecificTimeFlag:e.notSpecificTimeFlag,isSpecificTime:e.isSpecificTime,contentAttachment:e.commitmentList,content:e.esData.explainContent,summary:e.esData.content,isCollectOther:!1,isUpOther:!1,isCollectSummary:!1,isUpSummary:!1,isCollect:!1,isUp:!1,target:e.target,type:e.type,status:e.status,otherRequirements:e.otherRequirements,handleDeptList:e.handleDeptList};if(this.funcName=="qyxxtb")return{id:e.id,code:e.code,closeDate:"",writDt:this.filterTime(e.startTime)+(this.filterTime(e.startTime)&&this.filterTime(e.endTime)?" ~ ":"")+this.filterTime(e.endTime),replyStatus:e.replyStatus,title:e.name,postOffice:e.viewDept}},filterTime(e){return e&&e.length>5?(e=e.slice(0,10),e):""},handleLabelFormat(e){return e?e.length>0?e=e.split(","):[]:[]},getInitDetail(){this.$api[this.detailVo[this.funcName=="zcxc"?this.isRelevant?this.sourceType==1?this.funcName:this.sourceType==2?"xmsb":"msjx":this.funcName:this.funcName][!this.isRelevant||this.policyRelevant?"default":"relevant"]]({id:this.detailId}).then(e=>{console.log(e),e.code==200&&(this.policyInforVo=JSON.parse(JSON.stringify(this.getItemWord(e.data))))})},tabCurrentClick(e){this.currentVoIndex=e,console.log(this.policyInforVo),this.policyInforCodeNum=this.funcName=="zcxc"||this.funcName=="jzts"?this.policyInforVo.codeNum:this.policyInforVo.id},leftEvent(){this.isHome==1?x():uni.navigateBack()}}},D={class:"policy-detail-page-special new-layout-container flex-cu"},V={class:"policy-detail-title"},L={class:"word-break-custom"},O={class:"policy-label flex"},j={key:0,class:"tab-content-filter"};function z(e,l,w,E,t,h){const g=o("van-col"),I=o("van-row"),N=o("detailModule"),T=o("relevantModule");return i(),a("div",D,[r("div",V,[r("text",L,u(t.policyInforVo.title),1),r("div",O,[(i(!0),a(f,null,m(t.policyInforVo.policyLabel,(n,s)=>(i(),a("div",{key:s,class:v([n?"label-item-current ellipsis":""])},u(n),3))),128))])]),t.isRelevant?C("",!0):(i(),a("div",j,[c(I,null,{default:d(()=>[(i(!0),a(f,null,m(t.tabData,(n,s)=>(i(),R(g,{span:"12",class:v(["tab-list",{active:t.currentVoIndex==s}]),onClick:P=>h.tabCurrentClick(s)},{default:d(()=>[S(u(n),1)]),_:2},1032,["class","onClick"]))),256))]),_:1})])),y(c(N,{isRelevant:t.isRelevant,funcName:t.funcName,activeIndex:t.activeIndex,policyRelevant:e.policyRelevant,sourceType:e.sourceType,policyInforVo:t.policyInforVo,isOriginalInfo:t.isOriginalInfo,defaultHeight:t.defaultHeight,onChangeStatus:h.changeStatus},null,8,["isRelevant","funcName","activeIndex","policyRelevant","sourceType","policyInforVo","isOriginalInfo","defaultHeight","onChangeStatus"]),[[p,t.currentVoIndex==0]]),y(c(T,{funcName:t.funcName,activeIndex:t.activeIndex,needChildRefresh:e.needChildRefresh,currentVoIndex:t.currentVoIndex,policyInforCode:t.policyInforCodeNum,detailId:t.detailId,isPolicyDetail:1,isOriginalInfo:t.isOriginalInfo,defaultHeight:t.defaultHeight},null,8,["funcName","activeIndex","needChildRefresh","currentVoIndex","policyInforCode","detailId","isOriginalInfo","defaultHeight"]),[[p,t.currentVoIndex==1&&!t.isRelevant]])])}var ue=b(_,[["render",z],["__scopeId","data-v-11425e1e"]]);export{ue as default};
