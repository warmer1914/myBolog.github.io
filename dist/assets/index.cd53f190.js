import{g as u}from"./index.67bdbe62.js";import{_ as f}from"./plugin-vue_export-helper.21dcd24c.js";import{y as g,z as n,A as c,E as a,C as _,G as y,F as v,J as x,D as m,K as S,L as C,s as k}from"./_@vue_runtime-core@3.2.31@@vue.b0aa5f29.js";import{I as p}from"./_@vue_shared@3.2.31@@vue.7f2d3904.js";import"./_@vue_runtime-dom@3.2.31@@vue.240af360.js";import"./_vant@3.4.6@vant.e4fff504.js";import"./_@vant_use@1.3.6@@vant.1b0ef691.js";import"./_@vue_reactivity@3.2.31@@vue.435b5d06.js";import"./_@vant_popperjs@1.1.0@@vant.ae31ad00.js";import"./_vue-mobile-calendar@3.3.0@vue-mobile-calendar.c9c3461a.js";import"./_axios@0.21.4@axios.56d8ec29.js";import"./_vuex@4.0.2@vuex.35900dea.js";import"./_@vue_devtools-api@6.1.3@@vue.3188b863.js";import"./_vue-router@4.0.14@vue-router.c27d2a8d.js";import"./_qs@6.10.3@qs.59603e06.js";import"./_side-channel@1.0.4@side-channel.0a841574.js";import"./_get-intrinsic@1.1.1@get-intrinsic.46bb42c1.js";import"./_has-symbols@1.0.3@has-symbols.7f361f9b.js";import"./_function-bind@1.1.1@function-bind.09a6b7a3.js";import"./_has@1.0.3@has.dc0c57e0.js";import"./_call-bind@1.0.2@call-bind.c10bfa07.js";import"./_object-inspect@1.12.0@object-inspect.b4aaeeae.js";import"./_lodash@4.17.21@lodash.2e4506b9.js";import"./_dayjs@1.11.0@dayjs.c3a0a36c.js";import"./_echarts@5.2.2@echarts.518f2fa5.js";import"./_tslib@2.3.0@tslib.54efd67f.js";import"./_zrender@5.2.1@zrender.d1d234d3.js";const N=new URL("./assets/apeal_clear_res.e99a0075.png",self.location).href,b={name:"index",data(){return{clearRes:N,companyAuth:[],allPages:0,currentPage:1,pageSize:10,loading:!1,finished:!1}},created(){this.getCompanyClick()},methods:{handlerUnit(e){if(e!=0&&!e)return 0;if(String(e).length>3){let i=e;Number(e)>=1e4&&(i=Number(e)/1e4);let o="",d=i.toString().split("."),t=d[0],r=d[1]?"."+d[1].slice(0,1):Number(e)>=1e4?".0":"";for(let l=t.length-1;l>=0;l--)o+=t[t.length-l-1],(t.length-l-1)%3===0&&l!==0&&(o+=",");return o+r}return e.toString()},getSliceStr(e,i=!1,o=!1){return u(e,i,o)},transformPage(e){!e.id||this.$router.push({path:"/policyDetail",query:{funcName:"zcxc",id:e.id}})},lower(e){this.currentPage<this.allPages&&(this.loading||(this.currentPage++,this.getCompanyClick()))},initTime(e){return e?e&&e.length>9?e.slice(0,10):e:""},getCompanyClick(){this.loading=!0,this.$api.searchBasicAndLabelList({size:this.pageSize,current:this.currentPage}).then(e=>{console.log(e),e.code===200&&e.data&&(this.allPages=e.data.pages,this.companyAuth=e.data.records.length>0?this.companyAuth.concat(e.data.records):[],this.companyAuth.length==e.data.total&&(this.finished=!0)),this.loading=!1}).catch(()=>{this.loading=!1})}},beforeRouteLeave(e,i,o){this.$store.commit("SET_CONTROL_STATUS",!1),o()}},A=e=>(S("data-v-a3dde546"),e=e(),C(),e),L={class:"policy-recommendations-container relative"},P={class:"company-Identification-body absolute"},T=["onClick"],z={class:"name border-bottom-auth ellipsis f-14"},I={class:"time flex f-12"},R={class:"site"},V={class:"count txt-right"},w={key:0,class:"unit"},B={key:0,class:"ad-model flex flex-center"},U=["src"],D=A(()=>a("div",{class:"ad-text flex txt-center"},[a("text",{class:"f-14"},p("\u6682\u65E0\u6570\u636E"))],-1));function E(e,i,o,d,t,r){const l=g("van-list");return n(),c("div",L,[a("div",P,[t.companyAuth.length>0?(n(),_(l,{key:0,modelValue:t.loading,"onUpdate:modelValue":i[0]||(i[0]=s=>t.loading=s),finished:t.finished,onLoad:r.lower,offset:"20"},{default:y(()=>[(n(!0),c(v,null,x(t.companyAuth,(s,h)=>(n(),c("div",{class:"company-info flex box-sizing flex-cu",key:h,onClick:F=>r.transformPage(s)},[a("div",z,p(s.policyTitle),1),a("div",I,[a("span",R,p(r.getSliceStr({value:s.postOfficeName,len:16})),1),a("span",V,[k(p("\u70B9\u51FB\u91CF\uFF1A"+r.getSliceStr({value:String(s.policyClickNum),len:10},!0,r.handlerUnit)),1),s.policyClickNum&&Number(s.policyClickNum)>=1e4?(n(),c("i",w,"\u4E07")):m("",!0)])])],8,T))),128))]),_:1},8,["modelValue","finished","onLoad"])):m("",!0)]),t.companyAuth.length===0&&!t.loading?(n(),c("div",B,[a("img",{src:t.clearRes,mode:"",class:"ad-img"},null,8,U),D])):m("",!0)])}var he=f(b,[["render",E],["__scopeId","data-v-a3dde546"]]);export{he as default};
