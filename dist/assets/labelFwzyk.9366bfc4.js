import{v as V}from"./_@vue_runtime-dom@3.2.31@@vue.240af360.js";import{U as p}from"./index.67bdbe62.js";import{m as C,f}from"./filterLabelConfig.8f9d380f.js";import{_ as I}from"./plugin-vue_export-helper.21dcd24c.js";import{y as v,z as d,A as u,E as c,F as b,J as S,K as w,L as A,r as H,m as P,s as E,D as O,G as x,C as U}from"./_@vue_runtime-core@3.2.31@@vue.b0aa5f29.js";import{I as m,q as B}from"./_@vue_shared@3.2.31@@vue.7f2d3904.js";import"./_vant@3.4.6@vant.e4fff504.js";import"./_@vant_use@1.3.6@@vant.1b0ef691.js";import"./_@vue_reactivity@3.2.31@@vue.435b5d06.js";import"./_@vant_popperjs@1.1.0@@vant.ae31ad00.js";import"./_vue-mobile-calendar@3.3.0@vue-mobile-calendar.c9c3461a.js";import"./_axios@0.21.4@axios.56d8ec29.js";import"./_vuex@4.0.2@vuex.35900dea.js";import"./_@vue_devtools-api@6.1.3@@vue.3188b863.js";import"./_vue-router@4.0.14@vue-router.c27d2a8d.js";import"./_qs@6.10.3@qs.59603e06.js";import"./_side-channel@1.0.4@side-channel.0a841574.js";import"./_get-intrinsic@1.1.1@get-intrinsic.46bb42c1.js";import"./_has-symbols@1.0.3@has-symbols.7f361f9b.js";import"./_function-bind@1.1.1@function-bind.09a6b7a3.js";import"./_has@1.0.3@has.dc0c57e0.js";import"./_call-bind@1.0.2@call-bind.c10bfa07.js";import"./_object-inspect@1.12.0@object-inspect.b4aaeeae.js";import"./_lodash@4.17.21@lodash.2e4506b9.js";import"./_dayjs@1.11.0@dayjs.c3a0a36c.js";import"./_echarts@5.2.2@echarts.518f2fa5.js";import"./_tslib@2.3.0@tslib.54efd67f.js";import"./_zrender@5.2.1@zrender.d1d234d3.js";new URL("data:image/png;base64,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",self.location).href;const z={name:"labelFwzyk",setup(){},data(){return{}},props:{},watch:{},created(){console.log("+++++++++++"),["zcxc","xmsb","msjx","jzts"].includes(this.funcName)&&(this.selectBaseOptions=JSON.parse(JSON.stringify(C.policy()))),["bdgs"].includes(this.funcName)&&(this.selectBaseOptions=JSON.parse(JSON.stringify(C.listPublish()))),console.log("+++++++++++"),console.log(this.selectBaseOptions)},mounted(){},methods:{onConfirmTime(e){console.log(e),console.log(p.formatTime(e[0],!0,"yyyy-M-d"))},searchNoticeLable(){if(this.funcName!="jzts"){let e=JSON.parse(JSON.stringify(this.choiceLabel)),i=JSON.parse(JSON.stringify(this.choiceLabelBase));e.forEach(n=>{n.typeCode=n.labelCode}),i.forEach(n=>{n.typeCode=n.labelCode}),this.noticeLabel=[],this.noticeLabel=this.noticeLabel.concat(e),this.noticeLabel=this.noticeLabel.concat(i),console.log(this.choiceLabel),console.log(this.choiceLabelBase),console.log(this.noticeLabel),this.getHasChoiceLabel(),e=i=null}this.funcName!="jzts"||this.funcName=="jzts"&&this.initFlag||this.$api.searchHasNoticeLabel({entId:this.entId}).then(e=>{this.initFlag=!0,e.code==200&&e.data&&(this.noticeLabel=e.data,this.getHasChoiceLabel())})},getHasChoiceLabel(){let e=!1,i=!1,n=[],s=[];this.noticeLabel.length>0&&this.noticeLabel.forEach(t=>{e=e||t.typeCode&&t.typeCode.indexOf("B001002")>-1,i=i||t.typeCode&&t.typeCode.indexOf("B001007")>-1,t.typeCode=="B001002"?(n.push({code:t.labelCode,value:t.labelName,id:t.id||t.labelCode,activeIndex:0,childOptions:[],childPlugin:!1,childPluginName:"",level:"1gmjj",parentCode:50001,selfValue:"",labelCode:t.labelCode,labelName:t.labelName,levelRelationship:"",shortLabelNameList:[]}),this.labelFilterSelect.includes(this.selectBaseOptions[0].option[1].options[1])||this.labelFilterSelect.push(this.selectBaseOptions[0].option[1].options[1]),this.selectBaseOptions[0].option[1].options[1].value&&!this.selectBaseOptions[0].option[1].options[1].value.includes(t.labelName)&&this.selectBaseOptions[0].option[1].options[1].value.push(t.labelName)):t.typeCode=="B001007"&&(s.push({code:t.labelCode,value:t.labelName,id:t.id||t.labelCode,activeIndex:0,childOptions:[],childPlugin:!1,childPluginName:"",level:"1dfzd",parentCode:50002,selfValue:"",labelCode:t.labelCode,labelName:t.labelName,levelRelationship:"",shortLabelNameList:[]}),this.labelFilterSelect.includes(this.selectBaseOptions[0].option[2].options[1])||this.labelFilterSelect.push(this.selectBaseOptions[0].option[2].options[1]),this.selectBaseOptions[0].option[2].options[1].value&&!this.selectBaseOptions[0].option[2].options[1].value.includes(t.labelName)&&this.selectBaseOptions[0].option[2].options[1].value.push(t.labelName))}),n.length>0&&this.$emit("emitChoice",{key:"choiceLabel",value:n}),s.length>0&&this.$emit("emitChoice",{key:"choiceLabelBase",value:s}),console.log(n),console.log(s),e||(this.selectBaseOptions[0].option[1].options[1].value=["\u9009\u5B9A\u884C\u4E1A"],this.$emit("emitChoice",{key:"choiceLabel",value:[]})),i||(this.selectBaseOptions[0].option[2].options[1].value=["\u9009\u5B9A\u4EA7\u4E1A"],this.$emit("emitChoice",{key:"choiceLabelBase",value:[]})),this.selectBaseOptions[0].option.forEach(t=>{t.options.forEach(o=>{this.noticeLabel.length>0&&this.noticeLabel.forEach(a=>{a.labelCode==o.code&&(o.id=a.id,a.typeCode!="B001002"&&a.typeCode!="B001007"&&this.labelFilterSelect.push(o))})})})},getBasicList(){this.basicInit.forEach((e,i)=>{this.getInitList(e,i)}),this.initBasicListener=!0},turnNewPage(e,i,n,s){this.choiceCurChoice(i,e,n,s)},getPublishWordPart(){this.currentVoIndex!=0&&this.$api.searchPublishWordPart().then(e=>{if(e.code==200&&e.data&&e.data.length>0){let i=[];this.selectBaseOptions[1].option[1].options=[],e.data.forEach((n,s)=>{i.push({value:n.deptName||"",dictKey:n.deptId||"",code:n.deptId,parentCode:this.selectBaseOptions[1].option[1].code,activeIndex:0,level:1+"until",selfValue:"",childPlugin:!1,childPluginName:"",childOptions:[]})}),this.selectBaseOptions[1].option[1].options=JSON.parse(JSON.stringify(i)),this.selectBaseOptions[1].option[1].options.unshift({value:"\u4E0D\u9650",code:500010,parentCode:this.selectBaseOptions[1].option[1].code,level:1+"until",activeIndex:0,selfValue:"",childPlugin:!1,childPluginName:"",childOptions:[]}),this.selectBaseOptions[1].option[1].options.length>2*4&&(this.selectBaseOptions[1].option[1].isNeedShowMore=!0),this.selectBaseOptions[1].option[1].options.length>2*4&&(this.selectBaseOptions[1].option[1].isUp=!0),i=null}})},getInitList(e="",i){if(this.funcName=="jzts"&&this.initFlag)return;if(["zcxc","xmsb","msjx"].includes(this.funcName)&&this.currentVoIndex==1&&e=="publishTime"){let s=[];this.selectBaseOptions[1].option[2].options=[],this.publishTime.forEach((t,o)=>{s.push({value:t||"",code:500020+o+"time",parentCode:this.selectBaseOptions[1].option[2].code,activeIndex:0,level:1+"time",selfValue:"",childPlugin:!1,childPluginName:"",childOptions:[]})}),this.selectBaseOptions[1].option[2].options=JSON.parse(JSON.stringify(s)),this.selectBaseOptions[1].option[2].options.unshift({value:"\u4E0D\u9650",code:500020,parentCode:this.selectBaseOptions[1].option[2].code,activeIndex:0,selfValue:"",level:1+"time",childPlugin:!1,childPluginName:"",childOptions:[]}),this.selectBaseOptions[1].option[2].options.push({value:"\u81EA\u5B9A\u4E49\u65F6\u95F4\uFF1A \u8D77\u6B62-\u7ED3\u675F",code:500025,parentCode:this.selectBaseOptions[1].option[2].code,childPlugin:!0,level:1+"time",activeIndex:0,selfValue:"\u81EA\u5B9A\u4E49\u65F6\u95F4\uFF1A \u8D77\u6B62-\u7ED3\u675F",childPluginName:"LevelThreelinkage",childOptions:[]})}if(!this.funcName||e&&e=="publishTime")return;let n=this.currentVoIndex==0?this.labelFilter:this.basicLabel;this.getPublishWordPart(),this.$api[n[e||this.funcName]](e?this.getApiDomanicParams()[i]:this.getApiDomanicParams()).then(s=>{if(this.funcName!="jzts"&&(this.initFlag=!0),s.code==200){if(s.data.marketList&&s.data.marketList.length>0){let t=[];if(s.data.marketList.forEach((o,a)=>{t.push({value:o.labelName,code:o.labelCode,parentCode:this.selectBaseOptions[0].option[4].code,activeIndex:0,selfValue:"",level:1,childPlugin:!1,childPluginName:"",childOptions:[]})}),t.unshift({value:"\u4E0A\u5E02\u4E0D\u9650",code:501033,parentCode:this.selectBaseOptions[0].option[4].code,activeIndex:0,selfValue:"",level:1,childPlugin:!1,childPluginName:"",childOptions:[]}),!this.completeIsFive(t,3)){let o=this.backMuchChildNeedAppend(t,3)*3;for(let a=t.length;a<o;a++)t.push({value:"",code:5010331+a+1+"mark",parentCode:this.selectBaseOptions[0].option[4].code,activeIndex:0,selfValue:"",level:1,childPlugin:!1,childPluginName:"",childOptions:[]});o=null}t.length>3*4&&(this.selectBaseOptions[0].option[4].isNeedShowMore=!0),t.length>3*4&&(this.selectBaseOptions[0].option[4].isUp=!0),this.selectBaseOptions[0].option[4].options=this.selectBaseOptions[0].option[4].options.concat(t),t=null}if(s.data.scaleList&&s.data.scaleList.length>0){let t=[];if(s.data.scaleList.forEach((o,a)=>{t.push({value:o.labelName,code:o.labelCode,parentCode:this.selectBaseOptions[0].option[4].code,activeIndex:0,selfValue:"",level:2,childPlugin:!1,childPluginName:"",childOptions:[]})}),t.unshift({value:"\u89C4\u6A21\u4E0D\u9650",code:5010311,parentCode:this.selectBaseOptions[0].option[4].code,activeIndex:0,selfValue:"",level:2,childPlugin:!1,childPluginName:"",childOptions:[]}),!this.completeIsFive(t,3)){let o=this.backMuchChildNeedAppend(t,3)*3;for(let a=t.length;a<o;a++)t.push({value:"",code:5010311+a+1+"scale",parentCode:this.selectBaseOptions[0].option[4].code,activeIndex:0,selfValue:"",level:2,childPlugin:!1,childPluginName:"",childOptions:[]});o=null}t.length>3*4&&(this.selectBaseOptions[0].option[4].isNeedShowMore=!0),t.length>3*4&&(this.selectBaseOptions[0].option[4].isUp=!0),this.selectBaseOptions[0].option[4].options=this.selectBaseOptions[0].option[4].options.concat(t),t=null}if(s.data.entTypeList&&s.data.entTypeList.length>0){let t=[];if(s.data.entTypeList.forEach((o,a)=>{t.push({value:o.labelName,code:o.labelCode,parentCode:this.selectBaseOptions[0].option[4].code,activeIndex:0,selfValue:"",level:3,childPlugin:!1,childPluginName:"",childOptions:[]})}),t.unshift({value:"\u7C7B\u578B\u4E0D\u9650",code:501034,parentCode:this.selectBaseOptions[0].option[4].code,activeIndex:0,selfValue:"",level:3,childPlugin:!1,childPluginName:"",childOptions:[]}),!this.completeIsFive(t,3)){let o=this.backMuchChildNeedAppend(t,3)*3;for(let a=t.length;a<o;a++)t.push({value:"",code:5010334+a+1+"typeOne",parentCode:this.selectBaseOptions[0].option[4].code,activeIndex:0,selfValue:"",level:3,childPlugin:!1,childPluginName:"",childOptions:[]});o=null}t.length>3*4&&(this.selectBaseOptions[0].option[4].isNeedShowMore=!0),t.length>3*4&&(this.selectBaseOptions[0].option[4].isUp=!0),this.selectBaseOptions[0].option[4].options=this.selectBaseOptions[0].option[4].options.concat(t),t=null}if(s.data.entQuaList&&s.data.entQuaList.length>0){let t=[];if(s.data.entQuaList.forEach((o,a)=>{t.push({value:o.labelName,code:o.labelCode,parentCode:this.selectBaseOptions[0].option[4].code,activeIndex:0,selfValue:"",level:4,childPlugin:!1,childPluginName:"",childOptions:[]})}),t.unshift({value:"\u8D44\u8D28\u4E0D\u9650",code:501035,parentCode:this.selectBaseOptions[0].option[4].code,activeIndex:0,selfValue:"",level:4,childPlugin:!1,childPluginName:"",childOptions:[]}),!this.completeIsFive(t,3)){let o=this.backMuchChildNeedAppend(t,3)*3;for(let a=t.length;a<o;a++)t.push({value:"",code:5010335+a+1+"intelligence",parentCode:this.selectBaseOptions[0].option[4].code,activeIndex:0,selfValue:"",level:4,childPlugin:!1,childPluginName:"",childOptions:[]});o=null}t.length>3*4&&(this.selectBaseOptions[0].option[4].isNeedShowMore=!0),t.length>3*4&&(this.selectBaseOptions[0].option[4].isUp=!0),this.selectBaseOptions[0].option[4].options=this.selectBaseOptions[0].option[4].options.concat(t),t=null}if(s.data.topicList&&s.data.topicList.length>0){let t=[];this.selectBaseOptions[0].option[3].options=[],s.data.topicList.forEach((o,a)=>{t.push({value:o.labelName,code:o.labelCode,parentCode:this.selectBaseOptions[0].option[3].code,activeIndex:0,level:1+"subject",selfValue:"",childPlugin:!1,childPluginName:"",childOptions:[]})}),this.selectBaseOptions[0].option[3].options=JSON.parse(JSON.stringify(t)),this.selectBaseOptions[0].option[3].options.unshift({value:"\u4E0D\u9650",code:500050,activeIndex:0,level:1+"subject",parentCode:this.selectBaseOptions[0].option[3].code,selfValue:"",childPlugin:!1,childPluginName:"",childOptions:[]}),this.selectBaseOptions[0].option[3].options.length>3*4&&(this.selectBaseOptions[0].option[3].isNeedShowMore=!0),this.selectBaseOptions[0].option[3].options.length>3*4&&(this.selectBaseOptions[0].option[3].isUp=!0),t=null}if(s.data&&s.data.length>0&&e&&e=="zcxc"){let t=[];this.selectBaseOptions[1].option[3].options=[],s.data.forEach((o,a)=>{t.push({value:o.dictValue||"",dictKey:o.dictKey||"",code:o.dictKey||500040+a+"class",activeIndex:0,selfValue:"",level:1+"class",childPlugin:!1,parentCode:this.selectBaseOptions[1].option[3].code,childPluginName:"",childOptions:[]})}),this.selectBaseOptions[1].option[3].options=JSON.parse(JSON.stringify(t)),this.selectBaseOptions[1].option[3].options.unshift({value:"\u4E0D\u9650",code:500040,activeIndex:0,selfValue:"",level:1+"class",childPlugin:!1,parentCode:this.selectBaseOptions[1].option[3].code,childPluginName:"",childOptions:[]}),this.selectBaseOptions[1].option[3].options.length>3*4&&(this.selectBaseOptions[1].option[3].isNeedShowMore=!0),this.selectBaseOptions[1].option[3].options.length>3*4&&(this.selectBaseOptions[1].option[3].isUp=!0),t=null}if(s.data&&s.data.length>0&&e&&e=="department"){let t=[];this.selectBaseOptions[1].option[1].options=[],s.data.forEach((o,a)=>{t.push({value:this.traverseDepartmentTreeChildren(o)?this.traverseDepartmentTreeChildren(o).title:"",id:o.id||"",code:500010+a+"until",parentCode:this.selectBaseOptions[1].option[1].code,activeIndex:0,level:1+"until",selfValue:"",childPlugin:!1,childPluginName:"",childOptions:[]})}),this.selectBaseOptions[1].option[1].options=JSON.parse(JSON.stringify(t)),this.selectBaseOptions[1].option[1].options.unshift({value:"\u4E0D\u9650",code:500010,parentCode:this.selectBaseOptions[1].option[1].code,level:1+"until",activeIndex:0,selfValue:"",childPlugin:!1,childPluginName:"",childOptions:[]}),this.selectBaseOptions[1].option[1].options.length>2*4&&(this.selectBaseOptions[1].option[1].isNeedShowMore=!0),this.selectBaseOptions[1].option[1].options.length>2*4&&(this.selectBaseOptions[1].option[1].isUp=!0),t=null}if(s.data&&s.data.length>0&&this.funcName=="bdgs"){let t=[];this.selectBaseOptions[0].option[0].options=[],s.data.forEach((o,a)=>{t.push({value:o.dictValue||"",dictKey:o.dictKey||"",code:60001+a+"class",activeIndex:0,selfValue:"",level:1+"bashList",childPlugin:!1,parentCode:this.selectBaseOptions[0].option[0].code,childPluginName:"",childOptions:[]})}),this.selectBaseOptions[0].option[0].options=JSON.parse(JSON.stringify(t)),this.selectBaseOptions[0].option[0].options.unshift({value:"\u4E0D\u9650",code:6e4,activeIndex:0,selfValue:"",level:1+"bashList",childPlugin:!1,parentCode:this.selectBaseOptions[0].option[0].code,childPluginName:"",childOptions:[]}),this.selectBaseOptions[0].option[0].options.length>3*4&&(this.selectBaseOptions[0].option[0].isNeedShowMore=!0),this.selectBaseOptions[0].option[0].options.length>3*4&&(this.selectBaseOptions[0].option[0].isUp=!0),t=null}if(this.choiceLabel.length>0){let t=["\u9009\u5B9A\u884C\u4E1A"];this.choiceLabel.forEach(o=>{t.push(o.labelName)}),this.selectBaseOptions[0].option[1].options[1].value=t,t=null}if(this.choiceLabelBase.length>0){let t=["\u9009\u5B9A\u4EA7\u4E1A"];this.choiceLabelBase.forEach(o=>{t.push(o.labelName)}),this.selectBaseOptions[0].option[2].options[1].value=t,t=null}}this.searchNoticeLable()})},traverseDepartmentTreeChildren(e){let i="";for(;e.hasChildren&&e.children.length>0;)for(var n=0;n<e.children.length;n++)e.children[n].title=i+e.children[n].title,this.traverseDepartmentTreeChildren(e.children[n]);return e},getApiDomanicParams(){switch(this.funcName){case"zcxc":case"xmsb":case"msjx":return this.currentVoIndex==0?{}:[{regionCode:"00",deptCategory:1,status:1},{code:""},{code:"policy_type"}];case"bdgs":return{code:"billboard_type"};default:return}},getNameClass(e){switch(e){case"\u53D1\u6587\u5355\u4F4D":return"two-width";case"\u653F\u7B56\u7C7B\u578B":case"\u653F\u7B56\u4E13\u9898":case"\u9002\u7528\u4F01\u4E1A":return"three-width";case"50103":return"width-special five-width";default:return"five-width"}},resetAllLabel(){this.submitListener=!1,this.submitListenerBase=!1;let e=f(this.selectBaseOptions,this.currentVoIndex==0?"\u9002\u7528\u5730\u533A":"\u53D1\u6587\u5730\u533A",this.currentVoIndex),i=f(this.selectBaseOptions,"\u5730\u65B9\u4E3B\u5BFC\u4EA7\u4E1A",this.currentVoIndex),n=f(this.selectBaseOptions,"\u56FD\u6C11\u7ECF\u6D4E\u884C\u4E1A",this.currentVoIndex),s=f(this.selectBaseOptions,"\u53D1\u6587\u65E5\u671F",this.currentVoIndex);this.currentVoIndex==0&&(this.labelFilterSelect=[],this.specialSelectionInfo=[],this.industrySelectionInfo=[],e.options[0].selfValue="\u70DF\u53F0\u5E02\u829D\u7F58\u533A",i.options[1].value=["\u9009\u5B9A\u4EA7\u4E1A"],this.$emit("clearChoice"),n.options[1].value=["\u9009\u5B9A\u884C\u4E1A"]),this.currentVoIndex==1&&(this.commonSelect=[],this.rangeVal=[],e.options[0].selfValue="\u70DF\u53F0\u5E02\u829D\u7F58\u533A",e.options[0].dictKey&&(e.options[0].dictKey=""),s.options.length>0&&(s.options[s.options.length-1].value="\u81EA\u5B9A\u4E49\u65F6\u95F4\uFF1A \u8D77\u6B62-\u7ED3\u675F")),e=i=s=null},submitAllLabel(){this.originalTextList=[],this.currentPage=1,this.currentVoIndex==0&&(this.submitListener=!0,this.removeListener=!1,this.submitListenerBase=!1,this.removeListenerBase=!1),this.currentVoIndex==1&&(this.submitListener=!1,this.submitListenerBase=!0,this.removeListener=!1,this.removeListenerBase=!1),console.log(this.commonSelect),console.log(this.labelFilterSelect);let e="",i="",n="",s=[],t="",o=["500011","500021","500031","500041","500042","500043","500044"],a="";console.log(this.choiceLabel),this.choiceLabel.forEach(l=>{s[0]||(s[0]={},s[0].labelCodes=[]),s[0].labelCodes.push(l.labelCode)}),this.choiceLabelBase.forEach(l=>{s[1]||(s[1]={},s[1].labelCodes=[]),s[1].labelCodes.push(l.labelCode)}),this.funcName!="bdgs"?(this.labelFilterSelect.forEach(l=>{!["\u4E0D\u9650","\u4E0A\u5E02\u4E0D\u9650","\u89C4\u6A21\u4E0D\u9650","\u7C7B\u578B\u4E0D\u9650","\u8D44\u8D28\u4E0D\u9650"].includes(l.value)&&l.code!=501010&&l.code!=501013&&o.indexOf(l.parentCode.toString()+(l.level?p.isNumber(l.level)?l.level:l.level.slice(0,1):1).toString())&&(s[o.indexOf(l.parentCode.toString()+(l.level?p.isNumber(l.level)?l.level:l.level.slice(0,1):1).toString())]||(s[o.indexOf(l.parentCode.toString()+(l.level?p.isNumber(l.level)?l.level:l.level.slice(0,1):1).toString())]={},s[o.indexOf(l.parentCode.toString()+(l.level?p.isNumber(l.level)?l.level:l.level.slice(0,1):1).toString())].labelCodes=[]),s[o.indexOf(l.parentCode.toString()+(l.level?p.isNumber(l.level)?l.level:l.level.slice(0,1):1).toString())].labelCodes.includes(l.code)||s[o.indexOf(l.parentCode.toString()+(l.level?p.isNumber(l.level)?l.level:l.level.slice(0,1):1).toString())].labelCodes.push(l.code))}),s.length>0&&(s=s.filter(l=>l))):this.labelFilterSelect.forEach(l=>{!["\u4E0D\u9650","\u4E0A\u5E02\u4E0D\u9650","\u89C4\u6A21\u4E0D\u9650","\u7C7B\u578B\u4E0D\u9650","\u8D44\u8D28\u4E0D\u9650"].includes(l.value)&&l.code!=501010&&l.code!=501013&&(a=l.dictKey)}),console.log(s),this.commonSelect.forEach(l=>{l.parentCode==50103&&!["\u4E0D\u9650","\u4E0A\u5E02\u4E0D\u9650","\u89C4\u6A21\u4E0D\u9650","\u7C7B\u578B\u4E0D\u9650","\u8D44\u8D28\u4E0D\u9650"].includes(l.value)&&(e=l.code),l.parentCode==50101&&!["\u4E0D\u9650","\u4E0A\u5E02\u4E0D\u9650","\u89C4\u6A21\u4E0D\u9650","\u7C7B\u578B\u4E0D\u9650","\u8D44\u8D28\u4E0D\u9650"].includes(l.value)&&(t=l.code),l.parentCode==50102&&!["\u4E0D\u9650","\u4E0A\u5E02\u4E0D\u9650","\u89C4\u6A21\u4E0D\u9650","\u7C7B\u578B\u4E0D\u9650","\u8D44\u8D28\u4E0D\u9650"].includes(l.value)&&(l.value.length>14&&l.code==500025&&(i=l.value.slice(0,10)+" 00:00:00",n=l.value.slice(13)+" 24:00:00"),l.code!==500025&&(i=l.value+"-01-01 00:00:00",n=l.value+"-12-31 24:00:00"))});let r=this.funcName=="bdgs"?JSON.stringify({type:a}):JSON.stringify({labelList:s,policyTypeCode:e,releaseBeginDate:i,releaseEndDate:n,postOffice:t}),g=`/policy?isOriginalInfo=${this.isOriginalInfo}&menu=${this.menu}&isPolcy=${this.isPolcy}&isHome=${this.isHome}&isMore=${this.isMore}&funcName=${this.funcName}&keyword=${this.keyword}&isWebdiv=${this.isWebdiv}&param=${r}`+(this.funcName=="bdgs"?"&activeIndex="+this.activeSort:"");this.$router.push(g),r=null},onCancel(){},choiceCurChoice(e,i,n,s){if(console.log(i),i.childPlugin&&this.openPicker(e,i),i.code==501011&&this.funcName=="jzts"||((["\u4E0D\u9650","\u4E0A\u5E02\u4E0D\u9650","\u89C4\u6A21\u4E0D\u9650","\u7C7B\u578B\u4E0D\u9650","\u8D44\u8D28\u4E0D\u9650"].includes(i.value)||i.code==501010||i.code==501013)&&this.hanldeClearAllLabel(i,this.funcName=="jzts"),i.code==501012&&this.funcName=="jzts"))return;const t=this.funcName=="jzts"?this.findConflictSpecial(i):this.findConflict(i);if(!(t!=null&&!this.labelFilterSelect.includes(i)&&this.funcName=="jzts")){if(!["\u4E0D\u9650","\u4E0A\u5E02\u4E0D\u9650","\u89C4\u6A21\u4E0D\u9650","\u7C7B\u578B\u4E0D\u9650","\u8D44\u8D28\u4E0D\u9650"].includes(i.value)&&i.code!=501010&&i.code!=501013&&t==null&&this.funcName=="jzts"&&this.attentionOrCancelSetting(i,n,s,!0),!["\u4E0D\u9650","\u4E0A\u5E02\u4E0D\u9650","\u89C4\u6A21\u4E0D\u9650","\u7C7B\u578B\u4E0D\u9650","\u8D44\u8D28\u4E0D\u9650"].includes(i.value)&&i.code!=501010&&i.code!=501013&&this.labelFilterSelect.includes(i)&&this.funcName=="jzts"&&this.attentionOrCancelSetting(i,n,s),t==null&&this.currentVoIndex==1)return this.commonSelect.push(i);if(t!=null&&this.currentVoIndex==1)return this.commonSelect.splice(this.findConflict(i),1,i);if(t==null&&this.currentVoIndex==0)return this.labelFilterSelect.push(i);if(t!=null&&this.currentVoIndex==0&&this.funcName!="jzts")return this.labelFilterSelect.splice(t,1,i);if(t!=null&&this.currentVoIndex==0&&this.funcName=="jzts")return this.labelFilterSelect.splice(t,1)}},hasNoLimitClassLabel(e){return e.parentCode==50001?this.choiceLabel.includes(e):e.parentCode==50002?this.choiceLabelBase.includes(e):this.labelFilterSelect.includes(e)},hanldeClearAllLabel(e,i){(!this.getTypeCode(e||!e)||this.hasNoLimitClassLabel(e))&&i||(i&&this.$api.noLimitClearNoticeLabel({entId:this.entId,typeCode:this.getTypeCode(e)},{"Content-Type":"application/x-www-form-urlencoded"}).then(n=>{n.code==200&&(e.parentCode==50001&&e.code==501010&&(this.selectBaseOptions[0].option[1].options[1].value=["\u9009\u5B9A\u884C\u4E1A"],this.$emit("emitChoice",{key:"choiceLabel",value:[]})),e.parentCode==50002&&e.code==501013&&(this.selectBaseOptions[0].option[2].options[1].value=["\u9009\u5B9A\u4EA7\u4E1A"],this.$emit("emitChoice",{key:"choiceLabelBase",value:[]})))}),!i&&e.parentCode==50001&&e.code==501010&&(this.selectBaseOptions[0].option[1].options[1].value=["\u9009\u5B9A\u884C\u4E1A"],this.$emit("emitChoice",{key:"choiceLabel",value:[]})),!i&&e.parentCode==50002&&e.code==501013&&(this.selectBaseOptions[0].option[2].options[1].value=["\u9009\u5B9A\u4EA7\u4E1A"],this.$emit("emitChoice",{key:"choiceLabelBase",value:[]})))},getTypeCode(e){if(!!e)switch(e.parentCode.toString()+(e.level?p.isNumber(e.level)?e.level:e.level.slice(0,1):1)){case"500011":return"B001002";case"500021":return"B001007";case"500031":return"C002001";case"500041":return"B002002";case"500042":return"B002003";case"500043":return"B002004";case"500044":return"B002005";default:return""}},attentionOrCancelSetting(e,i,n,s=!1){!s&&!e.id||this.$api[s?"attentionLabel":"cancelLabel"](s?{entId:this.entId,labelCode:e.code,typeCode:this.getTypeCode(e)}:{sid:e.id},{"Content-Type":"application/x-www-form-urlencoded"}).then(t=>{t.code==200&&t.data?(this.selectBaseOptions[0].option[i].options[n].id=t.data,this.$toast(s?"\u5173\u6CE8\u6210\u529F":"\u53D6\u6D88\u6210\u529F")):this.$toast(s?"\u5173\u6CE8\u5931\u8D25":"\u53D6\u6D88\u5931\u8D25")})},findConflictSpecial(e){const i=this.labelFilterSelect;if(i.length==0)return null;let n=null,s=null,t=null;const o=i.some((a,r)=>{if(n=r,a.parentCode==e.parentCode&&a.level==e.level&&(["\u4E0D\u9650","\u4E0A\u5E02\u4E0D\u9650","\u89C4\u6A21\u4E0D\u9650","\u7C7B\u578B\u4E0D\u9650","\u8D44\u8D28\u4E0D\u9650"].includes(a.value)||a.code==501010||a.code==501013)&&!["\u4E0D\u9650","\u4E0A\u5E02\u4E0D\u9650","\u89C4\u6A21\u4E0D\u9650","\u7C7B\u578B\u4E0D\u9650","\u8D44\u8D28\u4E0D\u9650"].includes(e.value)&&e.code!=501010&&e.code!=501013&&(s=r),a.parentCode==e.parentCode&&a.level==e.level&&(["\u4E0D\u9650","\u4E0A\u5E02\u4E0D\u9650","\u89C4\u6A21\u4E0D\u9650","\u7C7B\u578B\u4E0D\u9650","\u8D44\u8D28\u4E0D\u9650"].includes(a.value)||a.code==501010||a.code==501013)&&!["\u4E0D\u9650","\u4E0A\u5E02\u4E0D\u9650","\u89C4\u6A21\u4E0D\u9650","\u7C7B\u578B\u4E0D\u9650","\u8D44\u8D28\u4E0D\u9650"].includes(e.value)&&e.code!=501010&&e.code!=501013||(a.parentCode==e.parentCode&&a.level==e.level&&!["\u4E0D\u9650","\u4E0A\u5E02\u4E0D\u9650","\u89C4\u6A21\u4E0D\u9650","\u7C7B\u578B\u4E0D\u9650","\u8D44\u8D28\u4E0D\u9650"].includes(a.value)&&a.code!=501010&&a.code!=501013&&(["\u4E0D\u9650","\u4E0A\u5E02\u4E0D\u9650","\u89C4\u6A21\u4E0D\u9650","\u7C7B\u578B\u4E0D\u9650","\u8D44\u8D28\u4E0D\u9650"].includes(e.value)||e.code==501010||e.code==501013)&&(t=e),a.parentCode==e.parentCode&&a.level==e.level&&!["\u4E0D\u9650","\u4E0A\u5E02\u4E0D\u9650","\u89C4\u6A21\u4E0D\u9650","\u7C7B\u578B\u4E0D\u9650","\u8D44\u8D28\u4E0D\u9650"].includes(a.value)&&a.code!=501010&&a.code!=501013&&(["\u4E0D\u9650","\u4E0A\u5E02\u4E0D\u9650","\u89C4\u6A21\u4E0D\u9650","\u7C7B\u578B\u4E0D\u9650","\u8D44\u8D28\u4E0D\u9650"].includes(e.value)||e.code==501010||e.code==501013)))return!1;if(a.code==e.code)return!0});return i.length>0&&t&&!o&&(this.labelFilterSelect=i.filter(a=>a.parentCode!==t.parentCode||a.parentCode==t.parentCode&&a.level!==t.level)),s!=null&&this.labelFilterSelect.splice(s,1),n=o?n:null,t=s=null,n},findConflict(e){const i=this.currentVoIndex==1?this.commonSelect:this.labelFilterSelect;if(i.length==0)return null;let n=null;return n=i.some((t,o)=>(n=o,t.parentCode==e.parentCode&&t.level==e.level))?n:null,n},selectOpt(){},toggleProjectContent(e){e.isUp=!e.isUp},initTimePicker(){this.selectBaseOptions[1].option[2].options.length>0&&(this.selectBaseOptions[1].option[2].options[this.selectBaseOptions[1].option[2].options.length-1].value=this.rangeVal.length>0?`${this.rangeVal[0]} - ${this.rangeVal[1]}`:"\u81EA\u5B9A\u4E49\u65F6\u95F4\uFF1A \u8D77\u6B62-\u7ED3\u675F")},changeTimes(e){return e.map(n=>p.formatTime(n,!0,"yyyy-M-d"))},onConfirm(e,i){let n=f(this.selectBaseOptions,"\u9002\u7528\u884C\u4E1A",1);switch(i){case"range":this.rangeVal=this.changeTimes(e),this.initTimePicker(),this.showTime=!1;return;case"region":this.initAreaVal();return;case"selector":n.options[0].selfValue=e.result,this.industrySelectionInfo=[e.obj],this.defaultVal=e.result,n=null;return;case"selectorBase":n.options[1].selfValue=e.result,this.defaultValBase=e.result,this.specialSelectionInfo=[e.obj],n=null;return;default:return}},closePicker(e){this.visible=e},openPicker(e,i){let n=this;if(i.code==501011&&i.parentCode==50002){let s=`/policyIndustry?labelFunc=dfzd&funcName=${this.funcName}&isOriginal=${this.isOriginalInfo}&isPolcy=${this.isPolcy}&isMore=${this.isMore}&isHome=${this.isHome}&isWebdiv=${this.isWebdiv}&menu=${this.menu}&choiceLabel=${JSON.stringify(this.choiceLabel)}&choiceLabelBase=${JSON.stringify(this.choiceLabelBase)}`;this.$router.push(s)}if(i.code==501012&&i.parentCode==50001){let s=`/policyIndustry?labelFunc=gmjj&funcName=${this.funcName}&isOriginal=${this.isOriginalInfo}&isPolcy=${this.isPolcy}&isMore=${this.isMore}&isHome=${this.isHome}&isWebdiv=${this.isWebdiv}&menu=${this.menu}&choiceLabel=${JSON.stringify(this.choiceLabel)}&choiceLabelBase=${JSON.stringify(this.choiceLabelBase)}`;this.$router.push(s)}i.code==500025&&(console.log(i),n.showTime=!0),i.code==501011&&this.selectorList.length>0&&(this.visibleIndustry=!0),i.code==501012&&this.selectorListBase.length>0&&(this.visibleIndustryBase=!0),i.code==500001,n=null},initAreaVal(){let e=f(this.selectBaseOptions,this.currentVoIndex==0?"\u9002\u7528\u5730\u533A":"\u53D1\u6587\u5730\u533A",this.currentVoIndex);this.currentVoIndex==0&&(e.options[0].selfValue=this.defaultRegion.length>0?this.defaultRegion[this.defaultRegion.length-1]=="\u9EC4\u5C9B\u533A"?"\u70DF\u53F0\u5E02\u829D\u7F58\u533A":this.defaultRegion[this.defaultRegion.length-1]:"\u70DF\u53F0\u5E02\u829D\u7F58\u533A"),this.currentVoIndex==1&&(e.options[0].selfValue=this.defaultRegion.length>0?this.defaultRegion[this.defaultRegion.length-1]=="\u9EC4\u5C9B\u533A"?"\u70DF\u53F0\u5E02\u829D\u7F58\u533A":this.defaultRegion[this.defaultRegion.length-1]:"\u70DF\u53F0\u5E02\u829D\u7F58\u533A"),e=null},completeIsFive(e,i=5){return!e||e.length==0?!0:e.length%i==0},backMuchChildNeedAppend(e,i=5){return!e||e.length==0?0:Math.ceil(e.length/i)},isHaveChildOpt(e){return!e||e&&e.length==0},isCurCode(e){return e?(this.currentVoIndex==1?this.commonSelect:this.labelFilterSelect).some(n=>n.code==e.code):!1},includesNoHaveCode(e){if(!e)return!1;let i=[];return this.selectBaseOptions[0].option[2]&&(i=this.selectBaseOptions[0].option[2].options.map(n=>{if(n.value!="\u81EA\u5B9A\u4E49\u65F6\u95F4\uFF1A \u8D77\u6B62-\u7ED3\u675F")return n.code})),!i.includes(e.code)}}},y=e=>(w("data-v-49f518f2"),e=e(),A(),e),k={class:"label-content"},M={class:"select-section"},K={class:"dropdown-item-content"},j={class:"dropdown-item-title label-color f-16 bold-font flex"},T=["onClick"],F=["onClick"],D=y(()=>c("text",{class:"text"},m(12345),-1)),R=[D],J={class:"label-reset-btn flex box-sizing"},W=["src"],Q=y(()=>c("text",{class:"f-12 label-color bold-font"},"\u91CD\u7F6E",-1));function G(e,i,n,s,t,o){const a=v("van-icon"),r=v("van-col"),g=v("van-row");return d(),u("div",k,[c("div",M,[c("div",K,[(d(!0),u(b,null,S(e.selectBaseOptions[e.currentVoIndex].option,(l,N)=>(d(),u("div",{class:"dropdown-item-content-default",key:N,onClick:i[0]||(i[0]=h=>o.selectOpt(e.currentVoIndex))},[H(c("div",j,[c("div",null,m(l.name),1),l.isNeedShowMore?(d(),u("div",{key:0,class:"pick-up-or-down",onClick:h=>o.toggleProjectContent(l)},[P(a,{name:l.isUp?"arrow-down":"arrow-up",color:"rgba(0,0,0,0.4)",size:"16"},null,8,["name"]),E(" "+m(l.isUp?" \u5168\u90E8\u5C55\u5F00":" \u6536\u8D77"),1)],8,T)):O("",!0)],512),[[V,l.name.indexOf("\u5730\u533A")==-1]]),!l.hasOtherPlugins||l.hasOtherPlugins&&l.name.indexOf("\u53D1\u6587\u65E5\u671F")>-1?(d(),u("div",{key:0,class:B(["dropdown-item-choice",[l.isUp?"pick-up-height":"pick-down-height"]])},[P(g,{gutter:"1"},{default:x(()=>[(d(!0),u(b,null,S(l.options,(h,L)=>(d(),u(b,null,[o.isHaveChildOpt(h.childOptions)?(d(),U(r,{span:"8",class:B(["dropdown-item-box",[h.value!=""?h.code==500025?"custom-width-label":o.getNameClass(l.name):"five-width self-width-original"]]),key:"noChild"+L},{default:x(()=>[c("div",{onClick:_=>o.choiceCurChoice(l,h,N,L),class:B([[h.value!=""?o.isCurCode(h)?h.code=="5010313"?"width-special-child active-back-choice bold-font":"active-back-choice bold-font":"":"self-back-original"],"dropdown-item-choice-info txt-center f-12 plugin-color"])},R,10,F)]),_:2},1032,["class"])):O("",!0)],64))),256))]),_:2},1024)],2)):O("",!0)]))),128))])]),c("div",J,[c("div",{class:"reset-handler flex-center flex-cu",onClick:i[1]||(i[1]=(...l)=>o.resetAllLabel&&o.resetAllLabel(...l))},[c("img",{src:e.resetLabel,mode:"",class:"reset-img"},null,8,W),Q]),c("text",{class:"normal-btn flex-center",onClick:i[2]||(i[2]=(...l)=>o.submitAllLabel&&o.submitAllLabel(...l))},"\u786E\u5B9A")])])}var Ce=I(z,[["render",G],["__scopeId","data-v-49f518f2"]]);export{Ce as default};
