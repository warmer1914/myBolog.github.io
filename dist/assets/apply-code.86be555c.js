import{a as d,v}from"./_@vue_runtime-dom@3.2.31@@vue.240af360.js";import{_ as g}from"./plugin-vue_export-helper.21dcd24c.js";import{r as p}from"./_@vue_reactivity@3.2.31@@vue.435b5d06.js";import{y as m,z as C,A as y,E as o,r as l,m as u,G as x,K as b,L as w,s as c}from"./_@vue_runtime-core@3.2.31@@vue.b0aa5f29.js";import{I as D,s as S}from"./_@vue_shared@3.2.31@@vue.7f2d3904.js";import P from"./apply-three.f8232b92.js";import{c as N}from"./index.67bdbe62.js";import"./icon_succes@3x.3217ae01.js";import"./_vant@3.4.6@vant.e4fff504.js";import"./_@vant_use@1.3.6@@vant.1b0ef691.js";import"./_@vant_popperjs@1.1.0@@vant.ae31ad00.js";import"./_vue-mobile-calendar@3.3.0@vue-mobile-calendar.c9c3461a.js";import"./_axios@0.21.4@axios.56d8ec29.js";import"./_vuex@4.0.2@vuex.35900dea.js";import"./_@vue_devtools-api@6.1.3@@vue.3188b863.js";import"./_vue-router@4.0.14@vue-router.c27d2a8d.js";import"./_qs@6.10.3@qs.59603e06.js";import"./_side-channel@1.0.4@side-channel.0a841574.js";import"./_get-intrinsic@1.1.1@get-intrinsic.46bb42c1.js";import"./_has-symbols@1.0.3@has-symbols.7f361f9b.js";import"./_function-bind@1.1.1@function-bind.09a6b7a3.js";import"./_has@1.0.3@has.dc0c57e0.js";import"./_call-bind@1.0.2@call-bind.c10bfa07.js";import"./_object-inspect@1.12.0@object-inspect.b4aaeeae.js";import"./_lodash@4.17.21@lodash.2e4506b9.js";import"./_dayjs@1.11.0@dayjs.c3a0a36c.js";import"./_echarts@5.2.2@echarts.518f2fa5.js";import"./_tslib@2.3.0@tslib.54efd67f.js";import"./_zrender@5.2.1@zrender.d1d234d3.js";const k={setup(e){const t=p(!1),i=p([]),a=p([]),s=p("");return{isPopShow:t,showPopup:()=>{t.value=!0},columns:a,columnsData:i,chooseAreaName:s}},data(){return{basicArea:"\u5C71\u4E1C\u7701/\u70DF\u53F0\u5E02/\u829D\u7F58\u533A",isfull:!1,navStyle:{navTitle:"\u4F01\u4E1A\u7533\u7801",color:"#fff",backgroundColor:"#236EED",leftIcon:"arrowthinleft",rightText:"\u4FDD\u5B58"},formData:{name:"",creditCode:"",legalPerName:"",areaCode:""},busniessCard:{id:""},licenceCard_1:{id:""},licenceCard_2:{id:""},upWidth:"80%",parentCode:"370602",status:1}},mounted(){this.findRegion()},watch:{formData:{handler(e,t){if(e.creditCode){let i=e.creditCode.split("");i.map((a,s)=>{!/^\d+$/.test(i[s])&&!/^[A-Za-z]+$/.test(i[s])&&(i[s]="")}),this.formData.creditCode=i.join("")}for(const i in e)if(!e[i].trim()){this.isfull=!1;return}this.isfull=!0},deep:!0}},methods:{onConfirm(e,t){const{key:i,title:a}=this.columnsData[t];this.formData=Object.assign({},this.formData,{areaCode:i}),this.chooseAreaName=a,this.isPopShow=!1},onChange(e,t){},onCancel(){this.isPopShow=!1},findRegion(){const{parentCode:e,status:t}=this;this.$api.findRegion({parentCode:e,status:t}).then(i=>{i.code==200&&(this.columnsData=i.data,this.columns=i.data.map(a=>a.title))})},blurValidate(e){},getImagePath(e){console.log(e),this[e.imgKey].id=e.data.attachId},ruler(){const{name:e,creditCode:t,legalPerName:i}=this.formData;let a={name:e.trim(),creditCode:t.trim(),legalPerName:i.trim()},s=[{name:"name",type:"required",errmsg:"\u8BF7\u8F93\u5165\u4F01\u4E1A\u540D\u79F0"},{name:"creditCode",type:"required",errmsg:"\u8BF7\u8F93\u5165\u7EDF\u4E00\u793E\u4F1A\u4FE1\u7528\u4EE3\u7801"},{name:"legalPerName",type:"required",errmsg:"\u8BF7\u8F93\u5165\u6CD5\u4EBA\u59D3\u540D"}],r=this.$validate.validate(a,s);return r.isOk?!0:(this.$toast(r.errmsg),!1)},changeStatue(){this.isfull&&this.ruler()&&(this.formData.mobile=this.$handleLocalStorage("get","mobile")||"",this.$emit("step_1",this.formData))}}},h=e=>(b("data-v-722b0ade"),e=e(),w(),e),I={class:"inputList"},V={class:"inputCont flex-ro justify-side border"},A=h(()=>o("div",{class:"input-title flex-ro",style:{width:"112px"}},[c(" \u4F01\u4E1A\u540D\u79F0 "),o("text",{class:"sp"},"*")],-1)),E={class:"input-text"},T={class:"inputCont flex-ro justify-side"},B=h(()=>o("div",{class:"input-title flex-ro"},[c(" \u7EDF\u4E00\u793E\u4F1A\u4FE1\u7528\u4EE3\u7801 "),o("text",{class:"sp"},"*")],-1)),j={class:"input-text"},L={class:"inputCont flex-ro justify-side align-start"},R=h(()=>o("div",{class:"input-title flex-ro",style:{width:"112px"}},[c(" \u7ECF\u8425\u5730\u5740 "),o("text",{class:"sp"},"*")],-1)),O={class:"basicArea"},U={class:"inputList"},W={class:"inputCont flex-ro justify-side"},q=h(()=>o("div",{class:"input-title flex-ro",style:{width:"112px"}},[c(" \u6CD5\u4EBA\u59D3\u540D "),o("text",{class:"sp"},"*")],-1)),z={class:"input-text"},K={class:"btn",style:{"margin-top":"20px"}};function G(e,t,i,a,s,r){const f=m("van-picker"),_=m("van-popup");return C(),y("div",null,[o("div",I,[o("div",V,[A,o("div",E,[l(o("input",{type:"text",maxlength:"100",onBlur:t[0]||(t[0]=n=>r.blurValidate("name")),"onUpdate:modelValue":t[1]||(t[1]=n=>s.formData.name=n),placeholder:"\u8BF7\u8F93\u5165\u4F01\u4E1A\u540D\u79F0"},null,544),[[d,s.formData.name]])])]),o("div",T,[B,o("div",j,[l(o("input",{type:"text",onBlur:t[2]||(t[2]=n=>r.blurValidate("creditCode")),maxlength:"30","onUpdate:modelValue":t[3]||(t[3]=n=>s.formData.creditCode=n),placeholder:"\u8BF7\u8F93\u5165\u793E\u4F1A\u4FE1\u7528\u4EE3\u7801"},null,544),[[d,s.formData.creditCode]])])]),o("div",L,[R,o("div",{class:"input-text",onClick:t[6]||(t[6]=(...n)=>a.showPopup&&a.showPopup(...n))},[o("div",O,D(s.basicArea),1),l(o("input",{type:"text",disabled:"",onBlur:t[4]||(t[4]=n=>r.blurValidate("creditCode")),maxlength:"30","onUpdate:modelValue":t[5]||(t[5]=n=>a.chooseAreaName=n),placeholder:"\u8BF7\u9009\u62E9\u8857\u9053"},null,544),[[d,a.chooseAreaName]])])])]),o("div",U,[o("div",W,[q,o("div",z,[l(o("input",{type:"text",maxlength:"50",onBlur:t[7]||(t[7]=n=>r.blurValidate("legalPerName")),"onUpdate:modelValue":t[8]||(t[8]=n=>s.formData.legalPerName=n),placeholder:"\u8BF7\u8F93\u5165\u6CD5\u4EBA\u59D3\u540D"},null,544),[[d,s.formData.legalPerName]])])])]),o("div",K,[o("button",{onClick:t[9]||(t[9]=(...n)=>r.changeStatue&&r.changeStatue(...n)),style:S({backgroundColor:s.isfull?"#236EED":"rgba(35, 110, 237, .3)"}),class:"normal-btn"},"\u63D0\u4EA4",4)]),u(_,{show:a.isPopShow,"onUpdate:show":t[10]||(t[10]=n=>a.isPopShow=n),position:"bottom"},{default:x(()=>[u(f,{columns:a.columns,onConfirm:r.onConfirm,onCancel:r.onCancel,onChange:r.onChange},null,8,["columns","onConfirm","onCancel","onChange"])]),_:1},8,["show"])])}var M=g(k,[["render",G],["__scopeId","data-v-722b0ade"]]);const Z={data(){return{navStyle:{navTitle:"\u4F01\u4E1A\u7533\u7801",color:"#fff",backgroundColor:"#236EED",leftIcon:"arrowthinleft",rightText:"\u4FDD\u5B58"},statue:1,data_f:"",data_t:"",frId:"",isWebdiv:0}},created(){},mounted(){},components:{applyOne:M,applyThree:P},watch:{statue(){this.statue!==2?this.navStyle.leftIcon="arrowthinleft":this.navStyle.leftIcon=""}},methods:{step_1(e){this.data_f=e,this.$api.appeal_o(e).then(t=>{if(t.code==200)this.$router.push({name:"applyCodeSuccess"});else{if(t.code==1002){this.$dialog.confirm({message:"\u672C\u4F01\u4E1A\u5DF2\u8BA4\u8BC1\uFF0C\u8BF7\u8054\u7CFB\u4F01\u4E1A\u7BA1\u7406\u5458\u7ED1\u5B9A\u6216\u901A\u8FC7\u201D\u5FEB\u901F\u5173\u8054\u4F01\u4E1A\u201C\u529F\u80FD\u4E3B\u52A8\u52A0\u5165\u4F01\u4E1A\u3002",confirmButtonText:"\u5FEB\u901F\u5173\u8054\u4F01\u4E1A"}).then(()=>{this.$router.push("/fastAssociation")});return}this.$toast(t.msg)}})},step_2(e){this.data_t=e,this.$api.appeal_t(e).then(t=>{uni.hideLoading(),t.code==200?this.statue++:uni.showToast({icon:"none",title:t.msg})})},leftEvent(){N()}}},F={class:"cont-new"};function H(e,t,i,a,s,r){const f=m("apply-one"),_=m("apply-three");return C(),y("div",F,[l(u(f,{onStep_1:r.step_1},null,8,["onStep_1"]),[[v,s.statue===1]]),l(u(_,{isWebdiv:s.isWebdiv},null,8,["isWebdiv"]),[[v,s.statue===2]])])}var Dt=g(Z,[["render",H],["__scopeId","data-v-4815e359"]]);export{Dt as default};
