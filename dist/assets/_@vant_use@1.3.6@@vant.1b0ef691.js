import{u as g,r as v,a as O,i as F}from"./_@vue_reactivity@3.2.31@@vue.435b5d06.js";import{i as R,o as D,c as L,p as U,a as W,b as S,d as _,e as A,n as H,w as P,g as B,f as j}from"./_@vue_runtime-core@3.2.31@@vue.b0aa5f29.js";var f=typeof window!="undefined";function w(e){return f?requestAnimationFrame(e):-1}function z(e){f&&cancelAnimationFrame(e)}function ae(e){w(()=>w(e))}var q=e=>e===window,N=(e,n)=>({top:0,left:0,right:e,bottom:n,width:e,height:n}),re=e=>{const n=g(e);if(q(n)){const t=n.innerWidth,i=n.innerHeight;return N(t,i)}return n!=null&&n.getBoundingClientRect?n.getBoundingClientRect():N(0,0)};function se(e=!1){const n=v(e);return[n,(i=!n.value)=>{n.value=i}]}function ue(e){const n=R(e,null);if(n){const t=B(),{link:i,unlink:a,internalChildren:o}=n;i(t),D(()=>a(t));const r=L(()=>o.indexOf(t));return{parent:n,index:r}}return{parent:null,index:v(-1)}}function J(e){const n=[],t=i=>{Array.isArray(i)&&i.forEach(a=>{var o;j(a)&&(n.push(a),(o=a.component)!=null&&o.subTree&&(n.push(a.component.subTree),t(a.component.subTree.children)),a.children&&t(a.children))})};return t(e),n}function K(e,n,t){const i=J(e.subTree.children);t.sort((o,r)=>i.indexOf(o.vnode)-i.indexOf(r.vnode));const a=t.map(o=>o.proxy);n.sort((o,r)=>{const u=a.indexOf(o),s=a.indexOf(r);return u-s})}function ce(e){const n=O([]),t=O([]),i=B();return{children:n,linkChildren:o=>{U(e,Object.assign({link:s=>{s.proxy&&(t.push(s),n.push(s.proxy),K(i,n,t))},unlink:s=>{const c=t.indexOf(s);n.splice(c,1),t.splice(c,1)},children:n,internalChildren:t},o))}}}var C=1e3,E=60*C,T=60*E,y=24*T;function G(e){const n=Math.floor(e/y),t=Math.floor(e%y/T),i=Math.floor(e%T/E),a=Math.floor(e%E/C),o=Math.floor(e%C);return{total:e,days:n,hours:t,minutes:i,seconds:a,milliseconds:o}}function Q(e,n){return Math.floor(e/1e3)===Math.floor(n/1e3)}function le(e){let n,t,i,a;const o=v(e.time),r=L(()=>G(o.value)),u=()=>{i=!1,z(n)},s=()=>Math.max(t-Date.now(),0),c=d=>{var x,M;o.value=d,(x=e.onChange)==null||x.call(e,r.value),d===0&&(u(),(M=e.onFinish)==null||M.call(e))},l=()=>{n=w(()=>{i&&(c(s()),o.value>0&&l())})},b=()=>{n=w(()=>{if(i){const d=s();(!Q(d,o.value)||d===0)&&c(d),o.value>0&&b()}})},k=()=>{!f||(e.millisecond?l():b())},V=()=>{i||(t=Date.now()+o.value,i=!0,k())},Y=(d=e.time)=>{u(),o.value=d};return W(u),S(()=>{a&&(i=!0,a=!1,k())}),_(()=>{i&&(u(),a=!0)}),{start:V,pause:u,reset:Y,current:r}}function X(e){let n;A(()=>{e(),H(()=>{n=!0})}),S(()=>{n&&e()})}function Z(e,n,t={}){if(!f)return;const{target:i=window,passive:a=!1,capture:o=!1}=t;let r;const u=c=>{const l=g(c);l&&!r&&(l.addEventListener(e,n,{capture:o,passive:a}),r=!0)},s=c=>{const l=g(c);l&&r&&(l.removeEventListener(e,n,o),r=!1)};D(()=>s(i)),_(()=>s(i)),X(()=>u(i)),F(i)&&P(i,(c,l)=>{s(l),u(c)})}function de(e,n,t={}){if(!f)return;const{eventName:i="click"}=t;Z(i,o=>{const r=g(e);r&&!r.contains(o.target)&&n(o)},{target:document})}var m,p;function fe(){if(!m&&(m=v(0),p=v(0),f)){const e=()=>{m.value=window.innerWidth,p.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:m,height:p}}var $=/scroll|auto/i,I=f?window:void 0;function ee(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function ne(e,n=I){let t=e;for(;t&&t!==n&&ee(t);){const{overflowY:i}=window.getComputedStyle(t);if($.test(i))return t;t=t.parentNode}return n}function ve(e,n=I){const t=v();return A(()=>{e.value&&(t.value=ne(e.value,n))}),t}var h;function me(){if(!h&&(h=v("visible"),f)){const e=()=>{h.value=document.hidden?"hidden":"visible"};e(),window.addEventListener("visibilitychange",e)}return h}var te=Symbol("van-field");function he(e){const n=R(te,null);n&&!n.customValue.value&&(n.customValue.value=e,P(e,()=>{n.resetValidation(),n.validateWithTrigger("onChange")}))}export{te as C,re as a,ce as b,ue as c,Z as d,he as e,se as f,ne as g,ve as h,me as i,ae as j,z as k,le as l,de as m,X as o,w as r,fe as u};
